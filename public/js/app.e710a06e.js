(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);v&&v(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},i={app:0},n={app:0},o=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-124b0493":"b233b0f1","chunk-19bb2df7":"290e0e49","chunk-3c9a8def":"4bf7ecab","chunk-742a26ea":"e371f149","chunk-060e6137":"a51335cd","chunk-2dcad7ba":"435daad6","chunk-fa513508":"2dfdc507","chunk-2d0b7296":"f7671066","chunk-2d0c9799":"1eaba733","chunk-4c45bcdc":"267b1dde","chunk-52c1a364":"5acd3eaa","chunk-602bcca2":"d8d98926","chunk-6096d971":"364a6c78","chunk-94f918e2":"2b8968b5","chunk-19aadc4f":"231f4a8c","chunk-04351952":"b0730d18","chunk-0b2d7c7b":"5acfd938","chunk-3d336d2c":"e2289c49","chunk-2d22bcc3":"baa01014","chunk-45e34c6e":"945a6eac","chunk-6f0e4162":"f4edbdc3","chunk-a3cd5656":"6c51e614","chunk-a52e4dd4":"60c62f35","chunk-ab8c787e":"ff4324d7"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-124b0493":1,"chunk-3c9a8def":1,"chunk-742a26ea":1,"chunk-fa513508":1,"chunk-602bcca2":1,"chunk-04351952":1,"chunk-0b2d7c7b":1,"chunk-3d336d2c":1,"chunk-45e34c6e":1,"chunk-a3cd5656":1,"chunk-a52e4dd4":1,"chunk-ab8c787e":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{"chunk-124b0493":"4dbea570","chunk-19bb2df7":"31d6cfe0","chunk-3c9a8def":"25aed56d","chunk-742a26ea":"5f23a85b","chunk-060e6137":"31d6cfe0","chunk-2dcad7ba":"31d6cfe0","chunk-fa513508":"2b353ce3","chunk-2d0b7296":"31d6cfe0","chunk-2d0c9799":"31d6cfe0","chunk-4c45bcdc":"31d6cfe0","chunk-52c1a364":"31d6cfe0","chunk-602bcca2":"2b353ce3","chunk-6096d971":"31d6cfe0","chunk-94f918e2":"31d6cfe0","chunk-19aadc4f":"31d6cfe0","chunk-04351952":"04136afe","chunk-0b2d7c7b":"42cb0a4a","chunk-3d336d2c":"371121ed","chunk-2d22bcc3":"31d6cfe0","chunk-45e34c6e":"fd79da1b","chunk-6f0e4162":"31d6cfe0","chunk-a3cd5656":"7588fbd8","chunk-a52e4dd4":"fd79da1b","chunk-ab8c787e":"ae406f03"}[e]+".css",n=l.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var c=o[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===n))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===r||u===n)return t()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=t,v.onerror=function(t){var r=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[e],v.parentNode.removeChild(v),a(o)},v.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(v)})).then((function(){i[e]=0})));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(v);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,a[1](d)}n[e]=void 0}};var v=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var v=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0575":function(e,t,a){},"0a13":function(e,t,a){},"1a93":function(e,t,a){"use strict";a("fad0")},"1dff":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n}));var r={},i={},n={app:{appName:"TravelDesign",appLogoImage:a("a4ef")},layout:{isRTL:!1,skin:"light",routerTransition:"zoom-fade",type:"vertical",contentWidth:"full",menu:{hidden:!1,isCollapsed:!1},navbar:{type:"floating",backgroundColor:""},footer:{type:"static"},customizer:!0,enableScrollToTop:!0}}},"24a2":function(e,t,a){"use strict";a("99af"),a("d3b7"),a("25f0"),a("b680"),a("ac1f"),a("5319"),a("1276"),a("fb6a"),a("a15b");var r={serialize:function(e){for(var t="a:".concat(e.length,":{"),a=0;a<e.length;a+=1)t+="i:".concat(a,";s:").concat(e[a].length,':"').concat(e[a],'";');return t+="}",t},dateFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getFullYear(),r=(1===(e.getMonth()+1).toString().length?"0":"")+(e.getMonth()+1).toString(),i=(1===e.getDate().toString().length?"0":"")+e.getDate().toString(),n="".concat(a,"-").concat(r,"-").concat(i);if(t){n+=" ";var o=(1===e.getHours().toString().length?"0":"")+e.getHours().toString(),s=(1===e.getMinutes().toString().length?"0":"")+e.getMinutes().toString(),l=(1===e.getSeconds().toString().length?"0":"")+e.getSeconds().toString();n+="".concat(o,":").concat(s,":").concat(l)}return n},numberFormat:function(e){var t=parseFloat(e),a=t.toFixed(2);return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},capitalize:function(e){if(e){for(var t=e.toString().split(" "),a=0;a<t.length;a+=1)t[a]=t[a].charAt(0).toUpperCase()+t[a].slice(1).toLowerCase();return t.join(" ")}return e}};t["a"]=r},"250e":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user.getAttr("multimedia",!1).length>0?a("b-media",{attrs:{"vertical-align":"center"},scopedSlots:e._u([{key:"aside",fn:function(){return[a("b-avatar",{attrs:{size:"32",src:e.user.getAttr("multimedia",!1)[0].getAttr("file_url")}})]},proxy:!0}],null,!1,79856441)},[a("span",{staticClass:"font-weight-bold d-block text-nowrap"},[e._v(" "+e._s(e.user.getAttr("first_name"))+" "+e._s(e.user.getAttr("last_name"))+" ")]),a("small",{staticClass:"text-muted"},[e._v(e._s(e.user.getAttr("username")))]),a("br"),e._t("details")],2):e._e()},i=[],n=a("34b6"),o=a("e8a3"),s=a("3779"),l=a("ed09"),c={name:"UserInfoComponent",components:{BMedia:n["a"],BAvatar:o["a"]},props:{model:{type:Object,required:!0},value:{type:Object,required:!0}},setup:function(e){var t=Object(l["ref"])(new s["a"]);if(e.value)if(e.value.getAttr)t.value=e.value;else{var a=new s["a"];a.initValues(e.value),t.value=a}return{user:t}}},u=c,d=a("2877"),v=Object(d["a"])(u,r,i,!1,null,"6b59cbed",null);t["a"]=v.exports},"326b":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var r=a("53ca"),i=a("c7eb"),n=a("1da1"),o=a("d4ec"),s=a("bee2"),l=a("ade3"),c=(a("4de4"),a("d3b7"),a("159b"),a("99af"),a("7039"),a("7db0"),a("b0c0"),a("bf19"),a("92f5")),u=a("8d34"),d=a("24a2"),v=function(){function e(){Object(o["a"])(this,e),Object(l["a"])(this,"fields",[]),Object(l["a"])(this,"extraData",{}),Object(l["a"])(this,"endpoint",""),Object(l["a"])(this,"filter",[]),Object(l["a"])(this,"related",[]),Object(l["a"])(this,"primaryKey","id"),Object(l["a"])(this,"relations",{}),Object(l["a"])(this,"services",void 0),Object(l["a"])(this,"actions",[]),Object(l["a"])(this,"clone",(function(){return e})),this.services=c["a"].getInstance()}return Object(s["a"])(e,[{key:"get",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(){var t,a,r,n=this;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.filter(this.endpoint,{filter:this.filter},d["a"].serialize(this.related));case 2:return t=e.sent,a=[],"success"===t.result&&(r=t.data,r.forEach((function(e){var t=new(n.clone());t.initValues(e),a.push(t)}))),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"paginate",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(t){var a,r,n,o=this;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.all("".concat(this.endpoint,"/related/").concat(d["a"].serialize(this.related)),t);case 2:if(a=e.sent,"success"!==a.result){e.next=8;break}return r=[],n=a.data,n.data.forEach((function(e){var t=new(o.clone());t.initValues(e),r.push(t)})),e.abrupt("return",new u["a"](r,n.current_page,n.last_page,n.per_page,n.total,this.related,this.clone()));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"with",value:function(e){var t=this;return"string"===typeof e?this.related.push(e):e.forEach((function(a,r){t.related.push(e[r])})),this}},{key:"whereDoesntHave",value:function(e,t,a){this.filter.push({function:"whereDoesntHave",field:e,operator:t,value:a})}},{key:"whereHas",value:function(e,t,a){this.filter.push({function:"whereHas",field:e,operator:t,value:a})}},{key:"where",value:function(e,t,a){return this.filter.push({function:"where",field:e,operator:t,value:a}),this}},{key:"whereMonth",value:function(e,t){return this.filter.push({function:"whereMonth",field:e,value:t}),this}},{key:"whereYear",value:function(e,t){return this.filter.push({function:"whereYear",field:e,value:t}),this}},{key:"orWhere",value:function(e,t,a){return this.filter.push({function:"orWhere",field:e,operator:t,value:a}),this}},{key:"initValues",value:function(e){var t=this;return Object.getOwnPropertyNames(e).forEach((function(a){t.setAttr(a,e[a])})),this}},{key:"findField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fields.find((function(t){return t.name===e}))}},{key:"setAttr",value:function(e,t){var a=this.findField(e);a?a.setValue(t):this.extraData[e]=t}},{key:"getAttr",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.findField(e),r=!1;return a?r=t?a.getUserValue():a.getValue():this.extraData[e]&&(r=this.extraData[e]),r}},{key:"getFields",value:function(){return this.fields}},{key:"getEndpoint",value:function(){return this.endpoint}},{key:"delete",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.delete(this.endpoint,this.getAttr(this.primaryKey)));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.save(this.endpoint,this.toJSON()));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){var t={};return this.fields.forEach((function(a){var i=a.getValue();if(Array.isArray(i)){var n=[];i.forEach((function(t){t instanceof e?n.push(t.toJSON()):n.push(t)})),i=n}else if("object"===Object(r["a"])(i)&&null!=i&&i instanceof e){var o=i,s=o.primaryKey,l=i.getAttr(s);i=l||i.toJSON()}t[a.name]=i})),t}}],[{key:"getFields",value:function(){return(new this).getFields()}},{key:"where",value:function(e,t,a){var r=new this;return r.where(e,t,a),r}},{key:"whereHas",value:function(e,t,a){var r=new this;return r.whereHas(e,t,a),r}},{key:"whereDoesntHave",value:function(e,t,a){var r=new this;return r.whereDoesntHave(e,t,a),r}},{key:"whereMonth",value:function(e,t){var a=new this;return a.whereMonth(e,t),a}},{key:"whereYear",value:function(e,t){var a=new this;return a.whereYear(e,t),a}},{key:"with",value:function(e){var t=new this;return t.with(e),t}},{key:"find",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(t){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new this,e.abrupt("return",a.find(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(){var t;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new this,e.abrupt("return",t.get());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"paginate",value:function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(t){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new this,e.abrupt("return",a.paginate(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},3358:function(e,t,a){},"33ed":function(e,t,a){"use strict";a("0a13")},3518:function(e,t,a){},3779:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var r=a("bee2"),i=a("d4ec"),n=a("257e"),o=a("262e"),s=a("2caf"),l=a("ade3"),c=(a("99af"),a("326b")),u=a("fefb"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.options.enabled?a("div",{class:e.options.showLabel?"form-group":"form-control",staticStyle:{display:"block"}},[e.options.showLabel?a("label",[e._v(e._s(e.options.label))]):e._e(),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(t){e.field.value=e.generateString(6)}}},[a("feather-icon",{attrs:{icon:"KeyIcon"}})],1)]),"checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{title:e.options.label,placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:"checkbox"},domProps:{checked:Array.isArray(e.field.value)?e._i(e.field.value,null)>-1:e.field.value},on:{change:[function(t){var a=e.field.value,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);r.checked?o<0&&e.$set(e.field,"value",a.concat([n])):o>-1&&e.$set(e.field,"value",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.field,"value",i)},function(t){return e.onChange(e.field)}]}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{title:e.options.label,placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:"radio"},domProps:{checked:e._q(e.field.value,null)},on:{change:[function(t){return e.$set(e.field,"value",null)},function(t){return e.onChange(e.field)}]}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{title:e.options.label,placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:e.type},domProps:{value:e.field.value},on:{change:function(t){return e.onChange(e.field)},input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(t){e.type="password"===e.type?"text":"password"}}},[a("feather-icon",{attrs:{icon:"EyeIcon"}})],1)])])]):e._e()},v=[],p={name:"PasswordComponent",props:{options:{type:Object,required:!0},field:{type:Object,required:!0}},data:function(){return{type:"password"}},methods:{onChange:function(e){this.$emit("change",e)},generateString:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length,i=0;i<e;i+=1)t+=a.charAt(Math.floor(Math.random()*r));return t}}},m=p,f=(a("c12f"),a("2877")),h=Object(f["a"])(m,d,v,!1,null,"97e24c4a",null),b=h.exports,_=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;Object(i["a"])(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object(l["a"])(Object(n["a"])(e),"getComponent",(function(){return b})),e}return Object(r["a"])(a)}(u["a"]),g=a("f9b9"),y=a("9a92"),C=a("891e"),k=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;Object(i["a"])(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object(l["a"])(Object(n["a"])(e),"endpoint","multimedia"),Object(l["a"])(Object(n["a"])(e),"types",{image:"Imagen",video:"Vídeo",document:"Documento"}),Object(l["a"])(Object(n["a"])(e),"fields",[new u["a"]("id","Código","number"),new u["a"]("filename","Texto alterno"),new u["a"]("file_url","URL de Acceso"),new C["a"]("type","Tipo",e.types,"image"),new u["a"]("is_local","Archivo local","checkbox")]),Object(l["a"])(Object(n["a"])(e),"clone",(function(){return a})),e}return Object(r["a"])(a)}(c["a"]),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"images-title"},[a("h5",{staticClass:"m-0"},[e._v(" "+e._s(e.options.label)+" ")]),0===e.field.limit||e.field.limit>1?a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.mdl-select-files",modifiers:{"mdl-select-files":!0}}],staticClass:"btn btn-outline-secondary btn-icon rounded-circle ml-1",attrs:{type:"button"}},[a("feather-icon",{attrs:{icon:"PlusIcon"}})],1):e._e()]),0===e.field.limit||e.field.limit>1?a("div",{staticClass:"images-container"},[0===e.field.models.length?a("div",{staticStyle:{display:"flex",width:"100%",height:"100%","align-items":"center","justify-content":"center"}},[e._v(" No se han agregado imágenes ")]):e._e(),e._l(e.field.models,(function(t){return a("div",{key:t.getAttr("id"),staticClass:"img-container"},[a("button",{staticClass:"btn btn-icon text-danger",attrs:{type:"button"},on:{click:function(a){return e.removeFile(t)}}},[a("feather-icon",{attrs:{icon:"XIcon"}})],1),a("img",{attrs:{src:t.getAttr("file_url"),alt:t.getAttr("alt_text")}})])}))],2):e._e(),a("b-avatar",{staticClass:"align-baseline my-2",attrs:{button:"",variant:"secondary",size:"70px",src:e.field.models.length>=1?e.field.models[0].getAttr("file_url"):""},on:{click:e.addFiles}}),a("input",{ref:"input-element",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:e.inputChange}}),a("b-modal",{attrs:{id:"mdl-select-files",centered:"","hide-header":"","no-close-on-backdrop":e.uploading,"no-close-on-esc":e.uploading,"ok-only":"","ok-title":"Subir imágenes","ok-disabled":e.uploading||0===e.toUpload.length},on:{ok:function(t){return t.preventDefault(),e.uploadFiles.apply(null,arguments)}}},[0===e.toUpload.length?a("div",{staticClass:"drag-drop-container",on:{click:e.addFiles,drop:function(t){return t.preventDefault(),e.drop(t)},dragover:function(e){e.preventDefault()},dragleave:function(e){e.preventDefault()}}},[a("i",{staticClass:"fa fa-file"}),a("p",[e._v("Haz click para seleccionar archivos o arrastra aquí tus archivos")]),a("p",[e._v("(Máximo 2Mb/por archivo)")])]):e._e(),e.toUpload.length>0?a("div",{staticClass:"drag-drop-container",staticStyle:{"justify-content":"flex-start","overflow-x":"hidden","overflow-y":"scroll"},on:{drop:function(t){return t.preventDefault(),e.drop(t)},dragover:function(e){e.preventDefault()},dragleave:function(e){e.preventDefault()},click:e.addFiles}},[a("ul",e._l(e.toUpload,(function(t,r){return a("li",{key:r},[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-icon",class:t.hasError?"text-danger":"",attrs:{type:"button",disabled:t.uploading||t.uploaded},on:{click:function(a){return a.stopPropagation(),e.removeFileToUpload(t)}}},[!1===t.uploading&&!1===t.uploaded?a("i",{staticClass:"fa fa-times"}):e._e(),!0===t.uploading&&!1===t.uploaded?a("i",{staticClass:"fa fa-spinner fa-spin"}):e._e(),!1===t.uploading&&!0===t.uploaded?a("i",{staticClass:"fa fa-check"}):e._e()]),a("img",{attrs:{src:t.url,alt:t.name}}),a("label",[e._v(e._s(t.name))])])])})),0)]):e._e(),a("div",{staticClass:"mt-2"},[a("a",{staticClass:"btn btn-secondary btn-block",attrs:{href:"https://compressjpeg.com/es/",target:"_blank"}},[e._v("¿Quieres comprimir tus imágenes?")])])])],1)},x=[],O=a("53ca"),j=a("b85c"),N=(a("b0c0"),a("4de4"),a("d3b7"),a("a434"),a("ac1f"),a("e8a3")),E={name:"MultipleMultimediaComponent",components:{BAvatar:N["a"]},props:{options:{required:!0,type:Object},field:{required:!0,type:Object}},data:function(){return{toUpload:[],uploading:!1,hasError:!1}},methods:{uploadFiles:function(){var e=this;this.uploading=!0;for(var t=function(t){var a=new e.field.Model;a.setAttr("filename",e.toUpload[t].name),a.setAttr("file_url",e.toUpload[t].url),e.toUpload[t].uploading=!0,a.save().then((function(r){e.toUpload[t].uploading=!1,"success"===r.result?(e.toUpload[t].uploaded=!0,a.initValues(r.data),e.field.models.push(a)):(e.toUpload[t].hasError=!0,e.showError("Ha ocurrido un error al subir un archivo: ".concat(r.error))),e.uploading=e.toUpload.filter((function(e){return e.uploading})).length>0,e.hasError=e.toUpload.filter((function(e){return e.hasError})).length>0,e.uploading||e.hasError||(e.toUpload=[],e.$bvModal.hide("mdl-select-files"))}))},a=0;a<this.toUpload.length;a+=1)t(a)},removeFileToUpload:function(e){this.toUpload.splice(this.toUpload.indexOf(e),1)},removeFile:function(e){this.field.deleteModel(e)},addFiles:function(){var e=this.$refs["input-element"];e.click()},inputChange:function(){var e=this.$refs["input-element"];e.files&&e.files&&this.addMultipleFiles(e.files)},addMultipleFiles:function(e){var t,a=this,r=Object(j["a"])(e);try{var i=function(){var e=t.value,r=new FileReader,i=e.name;r.onload=function(e){a.toUpload.push({name:i,url:e.target.result,uploading:!1,uploaded:!1,hasError:!1}),1===a.field.limit&&(a.field.models=[],a.uploadFiles())};var n=e.size/1024/1024;if(n>5)return a.showError("El peso del archivo no puede exceder los 5mb"),{v:void 0};/(.jpg|.jpeg|.png|.gif)$/i.exec(e.name)?r.readAsDataURL(e):a.showError("El archivo ".concat(e.name," no se pudo agregar, ya que, no es una imagen"))};for(r.s();!(t=r.n()).done;){var n=i();if("object"===Object(O["a"])(n))return n.v}}catch(o){r.e(o)}finally{r.f()}},drop:function(e){this.addMultipleFiles(e.dataTransfer.files)},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})}}},P=E,T=(a("d908"),Object(f["a"])(P,w,x,!1,null,null,null)),A=T.exports,S=a("8dd5"),D=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(e,r){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3?arguments[3]:void 0;return Object(i["a"])(this,a),o=t.call(this,e,r,c,s),Object(l["a"])(Object(n["a"])(o),"getComponent",(function(){return A})),o}return Object(r["a"])(a)}(S["a"]),I=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;Object(i["a"])(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object(l["a"])(Object(n["a"])(e),"endpoint","users"),Object(l["a"])(Object(n["a"])(e),"related",["role","multimedia"]),Object(l["a"])(Object(n["a"])(e),"fields",[new u["a"]("id","Código").disabled().noFilterable(),new D("multimedia","Foto de perfil",[],k).setLimit(1).hide(),new g["a"]("role","Rol",y["a"],"name"),new u["a"]("username","Correo electrónico"),new _("password","Contraseña").hide(),new u["a"]("first_name","Nombre(s)"),new u["a"]("last_name","Apellido(s)"),new u["a"]("phone","Teléfono","tel").hide(),new u["a"]("birthday","Fecha de nacimiento","date").hide()]),Object(l["a"])(Object(n["a"])(e),"clone",(function(){return a})),e}return Object(r["a"])(a)}(c["a"])},4131:function(e,t,a){},4360:function(e,t,a){"use strict";var r=a("2b0e"),i=a("2f62"),n=(a("d3b7"),a("1dff")),o=a("92f5"),s={namespaced:!0,state:{windowWidth:0,shallShowOverlay:!1},getters:{currentBreakPoint:function(e){var t=e.windowWidth;return t>=n["a"].xl?"xl":t>=n["a"].lg?"lg":t>=n["a"].md?"md":t>=n["a"].sm?"sm":"xs"}},mutations:{UPDATE_WINDOW_WIDTH:function(e,t){e.windowWidth=t},TOGGLE_OVERLAY:function(e,t){e.shallShowOverlay=void 0!==t?t:!e.shallShowOverlay}},actions:{updateUserInfo:function(){return new Promise((function(e){o["a"].getInstance().all("users/update-info").then((function(t){var a=t.data;e(a)}))}))}}},l=(a("ac1f"),a("466d"),{namespaced:!0,state:{layout:{isRTL:n["c"].layout.isRTL,skin:localStorage.getItem("vuexy-skin")||n["c"].layout.skin,routerTransition:n["c"].layout.routerTransition,type:n["c"].layout.type,contentWidth:n["c"].layout.contentWidth,menu:{hidden:n["c"].layout.menu.hidden},navbar:{type:n["c"].layout.navbar.type,backgroundColor:n["c"].layout.navbar.backgroundColor},footer:{type:n["c"].layout.footer.type}}},getters:{},mutations:{TOGGLE_RTL:function(e){e.layout.isRTL=!e.layout.isRTL,document.documentElement.setAttribute("dir",e.layout.isRTL?"rtl":"ltr")},UPDATE_SKIN:function(e,t){e.layout.skin=t,localStorage.setItem("vuexy-skin",t),"dark"===t?document.body.classList.add("dark-layout"):document.body.className.match("dark-layout")&&document.body.classList.remove("dark-layout")},UPDATE_ROUTER_TRANSITION:function(e,t){e.layout.routerTransition=t},UPDATE_LAYOUT_TYPE:function(e,t){e.layout.type=t},UPDATE_CONTENT_WIDTH:function(e,t){e.layout.contentWidth=t},UPDATE_NAV_MENU_HIDDEN:function(e,t){e.layout.menu.hidden=t},UPDATE_NAVBAR_CONFIG:function(e,t){Object.assign(e.layout.navbar,t)},UPDATE_FOOTER_CONFIG:function(e,t){Object.assign(e.layout.footer,t)}},actions:{}}),c={namespaced:!0,state:{isVerticalMenuCollapsed:n["c"].layout.menu.isCollapsed},getters:{},mutations:{UPDATE_VERTICAL_MENU_COLLAPSED:function(e,t){e.isVerticalMenuCollapsed=t}},actions:{}},u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"refFormModal",attrs:{title:"Agrega servicio de hotel","ok-title":"Aceptar","cancel-title":"Cancelar","no-close-on-backdrop":""},on:{ok:e.save,hidden:function(t){return e.$emit("close")}}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e.reservation_detail?a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Proveedor*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.providers,reduce:function(e){return e.getAttr("id")},"get-option-label":function(e){return e.getAttr("name")}},model:{value:e.reservation_detail.provider_id,callback:function(t){e.$set(e.reservation_detail,"provider_id",t)},expression:"reservation_detail.provider_id"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Confirmación*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.provider_confirmation_number,expression:"reservation_detail.provider_confirmation_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Número de confirmación"},domProps:{value:e.reservation_detail.provider_confirmation_number},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"provider_confirmation_number",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Destino*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de destino"},domProps:{value:e.reservation_detail.reservable.destination},on:{change:function(t){e.reservation_detail.reservable.destination=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Hotel*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de hotel"},domProps:{value:e.reservation_detail.reservable.hotel_name},on:{change:function(t){e.reservation_detail.reservable.hotel_name=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Teléfono*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.hotel_phone,expression:"reservation_detail.reservable.hotel_phone"}],staticClass:"form-control",attrs:{type:"tel",placeholder:"Teléfono de hotel"},domProps:{value:e.reservation_detail.reservable.hotel_phone},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"hotel_phone",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tarifa de resort")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Tarifa de resort"},model:{value:e.reservation_detail.reservable.resort_rate,callback:function(t){e.$set(e.reservation_detail.reservable,"resort_rate",t)},expression:"reservation_detail.reservable.resort_rate"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tarifa de sanitización")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Tarifa de sanitización"},model:{value:e.reservation_detail.reservable.sanitation_rate,callback:function(t){e.$set(e.reservation_detail.reservable,"sanitation_rate",t)},expression:"reservation_detail.reservable.sanitation_rate"}})],1)])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Check In*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.check_in,expression:"reservation_detail.reservable.check_in"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Check In"},domProps:{value:e.reservation_detail.reservable.check_in},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"check_in",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Check Out*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.check_out,expression:"reservation_detail.reservable.check_out"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Check Out"},domProps:{value:e.reservation_detail.reservable.check_out},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"check_out",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Plan de alimentos*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.mealPlans},model:{value:e.reservation_detail.reservable.meal_plan,callback:function(t){e.$set(e.reservation_detail.reservable,"meal_plan",t)},expression:"reservation_detail.reservable.meal_plan"}})],1)])]),a("hr"),a("div",{staticClass:"d-flex align-items-center mb-2"},[a("h6",[e._v("Habitaciones")]),a("b-button",{staticClass:"btn-icon ml-1",attrs:{variant:"primary"},on:{click:e.addRoom}},[a("feather-icon",{attrs:{icon:"PlusIcon"}})],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.reservation_detail.reservable.hotel_reservation_rooms,(function(t,r){return a("room-component",{key:r,attrs:{room:t,number:r+1},on:{delete:function(t){return e.deleteRoom(r)},update:e.roomUpdated}})})),1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12"},[a("b-form-checkbox",{attrs:{switch:"",disabled:e.reservation_detail.id},model:{value:e.reservation_detail.reservable.is_pack,callback:function(t){e.$set(e.reservation_detail.reservable,"is_pack",t)},expression:"reservation_detail.reservable.is_pack"}},[e._v(" Marcar como paquete ")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,disabled:!e.hasGlobalPrices,placeholder:"Precio público"},model:{value:e.reservation_detail.public_price,callback:function(t){e.$set(e.reservation_detail,"public_price",t)},expression:"reservation_detail.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,disabled:!e.hasGlobalPrices,placeholder:"Precio neto"},model:{value:e.reservation_detail.net_price,callback:function(t){e.$set(e.reservation_detail,"net_price",t)},expression:"reservation_detail.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.cancellable,callback:function(t){e.$set(e.reservation_detail,"cancellable",t)},expression:"reservation_detail.cancellable"}},[e._v(" Cancelable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.editable,callback:function(t){e.$set(e.reservation_detail,"editable",t)},expression:"reservation_detail.editable"}},[e._v(" Editable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.refundable,callback:function(t){e.$set(e.reservation_detail,"refundable",t)},expression:"reservation_detail.refundable"}},[e._v(" Reembolsable ")])],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Términos y condiciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.terms_conditions,expression:"reservation_detail.terms_conditions"}],staticClass:"form-control",domProps:{value:e.reservation_detail.terms_conditions},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"terms_conditions",t.target.value)}}})])])]),a("hr"),a("div",[a("reservation-detail-comments-component",{attrs:{comments:e.reservation_detail.reservation_detail_comments,"reservation-detail-id":e.reservation_detail.id,"show-form":e.reservation_detail.id&&e.reservation_detail.id>0},on:{onCommentSaved:e.onCommentSaved}})],1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.reservation_detail.multimedia?e._e():a("div",[a("label",[e._v("Voucher del proveedor")]),a("b-form-file",{attrs:{placeholder:"Escoge el archivo o arrastra aquí...","drop-placeholder":"Suelta aquí..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])])])])]):e._e()])])},d=[],v=(a("4de4"),a("9129"),a("a9e3"),a("a434"),a("159b"),a("498a"),a("25f0"),a("b0c0"),a("d81d"),a("24a2")),p=a("4a7a"),m=a.n(p),f=a("1947"),h=a("c3e6"),b=a("c43f"),_=a("ed09"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showForm?a("div",{staticClass:"row"},e._l(e.comments,(function(t,r){return a("div",{key:r,staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-weight-bolder"},[e._v(e._s(t.user.username))]),e._v(" - "),a("span",[e._v(e._s(e.dateFormat(t.created_at)))])]),a("p",[e._v(" "+e._s(t.comment)+" ")])])],1)})),0):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Agregar comentario interno (solo visible en sistema)")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],staticClass:"form-control",domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}})])]),a("div",{staticClass:"col-md-12"},[e.showForm?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.loading},on:{click:e.save}},[e.loading?e._e():a("span",[e._v(" Guardar comentario ")]),e.loading?a("i",{staticClass:"fa fa-spin fa-spinner"}):e._e()]):e._e()])])])},y=[],C=a("205f"),k={name:"ReservationDetailCommentsComponent",components:{BCard:C["a"]},props:{comments:{type:Array,required:!0},reservationDetailId:{type:Number,required:!1,default:0},showForm:{type:Boolean,default:!1}},data:function(){return{loading:!1,comment:""}},methods:{dateFormat:function(e){return v["a"].dateFormat(new Date(e),!0)},save:function(){var e=this;this.comment.trim()?(this.loading=!0,o["a"].getInstance().save("reservations/save-reservation-detail-comment",{comment:this.comment,reservation_detail_id:this.reservationDetailId}).then((function(t){e.comments.push(t.data),e.comment="",e.loading=!1,e.$emit("onCommentSaved"),e.showError("Se ha guardado correctamente","Aviso")}))):this.showError("Ingrese el comentario")},showError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error";this.$swal({title:t,text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})}}},w=k,x=a("2877"),O=Object(x["a"])(w,g,y,!1,null,"1c19dc3a",null),j=O.exports,N=a("2083"),E=a.n(N),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h6",[e._v("Habitación "+e._s(e.number))]),a("b-button",{staticClass:"btn-icon ml-1",attrs:{variant:"danger"},on:{click:e.deleteRoom}},[a("feather-icon",{attrs:{icon:"TrashIcon"}})],1)]},proxy:!0}])},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tipo de habitación*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Tipo de habitación"},domProps:{value:e.room.room_type},on:{change:function(t){e.room.room_type=e.roomUpdated(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio público"},on:{input:e.roomUpdated},model:{value:e.room.public_price,callback:function(t){e.$set(e.room,"public_price",t)},expression:"room.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio neto"},on:{input:e.roomUpdated},model:{value:e.room.net_price,callback:function(t){e.$set(e.room,"net_price",t)},expression:"room.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Cantidad de adultos*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.room.adults_quantity,expression:"room.adults_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de adultos"},domProps:{value:e.room.adults_quantity},on:{change:e.roomUpdated,input:function(t){t.target.composing||e.$set(e.room,"adults_quantity",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Cantidad de menores*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.room.minors_quantity,expression:"room.minors_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de menores"},domProps:{value:e.room.minors_quantity},on:{change:e.roomUpdated,input:function(t){t.target.composing||e.$set(e.room,"minors_quantity",t.target.value)}}})])])]),e.room.minors_quantity&&!isNaN(e.room.minors_quantity)&&e.room.minors_quantity>0?a("hr"):e._e(),e.room.minors_quantity&&!isNaN(e.room.minors_quantity)&&e.room.minors_quantity>0?a("div",{staticClass:"row"},e._l(parseInt(e.room.minors_quantity),(function(t){return a("div",{key:t,staticClass:"col-12 col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Edad menor "+e._s(t)+"*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.room.hotel_reservation_room_people[t-1],expression:"room.hotel_reservation_room_people[index-1]"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.room.hotel_reservation_room_people[t-1]},on:{change:e.roomUpdated,input:function(a){a.target.composing||e.$set(e.room.hotel_reservation_room_people,t-1,a.target.value)}}})])])})),0):e._e(),e.room.minors_quantity&&!isNaN(e.room.minors_quantity)&&e.room.minors_quantity>0?a("hr"):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Peticiones especiales")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.room.special_request,expression:"room.special_request"}],staticClass:"form-control",attrs:{placeholder:"Peticiones especiales"},domProps:{value:e.room.special_request},on:{change:e.roomUpdated,input:function(t){t.target.composing||e.$set(e.room,"special_request",t.target.value)}}})])])])},T=[],A={name:"RoomComponent",components:{BCard:C["a"],BButton:f["a"],Cleave:E.a},props:{room:{type:Object,default:function(){return{room_type:"",public_price:"",net_price:"",special_request:""}}},number:{type:Number,required:!0}},data:function(){return{numberFormatOptions:{prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0}}},methods:{deleteRoom:function(){this.$emit("delete")},roomUpdated:function(e){return this.$emit("update"),v["a"].capitalize(e)}}},S=A,D=Object(x["a"])(S,P,T,!1,null,null,null),I=D.exports,F={name:"HotelServiceView",components:{ReservationDetailCommentsComponent:j,RoomComponent:I,vSelect:m.a,BButton:f["a"],BFormCheckbox:h["a"],BFormFile:b["a"],Cleave:E.a},props:{providers:{type:Array,default:function(){return[]}},reservationDetailParam:{type:Object,default:function(){return null}}},data:function(){return{comment:"",hasGlobalPrices:!0,file:null}},mounted:function(){this.roomUpdated(),this.updateTotal()},methods:{show:function(){this.refFormModal.show()},addRoom:function(){this.reservation_detail.reservable.hotel_reservation_rooms.push({room_type:"",public_price:null,net_price:null,special_request:""})},roomUpdated:function(){var e=this.reservation_detail.reservable.hotel_reservation_rooms.filter((function(e){return e.public_price&&!Number.isNaN(e.public_price)||e.net_price&&!Number.isNaN(e.net_price)}));0!==e.length||this.hasGlobalPrices||(this.reservation_detail.public_price=null,this.reservation_detail.net_price=null),this.hasGlobalPrices=0===e.length,this.updateTotal()},deleteRoom:function(e){this.reservation_detail.reservable.hotel_reservation_rooms.splice(e,1),this.roomUpdated()},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})},updateTotal:function(){if(!this.hasGlobalPrices){var e=0,t=0;this.reservation_detail.reservable.hotel_reservation_rooms.forEach((function(a){a.public_price&&!Number.isNaN(a.public_price)&&(e+=parseFloat(a.public_price)),a.net_price&&!Number.isNaN(a.net_price)&&(t+=parseFloat(a.net_price))})),this.reservation_detail.public_price=e,this.reservation_detail.net_price=t}},save:function(e){var t=this;if(!this.reservation_detail.provider_id)return this.showError("Seleccione un proveedor"),void e.preventDefault();if(""===this.reservation_detail.provider_confirmation_number.toString().trim())return this.showError("Ingrese un número de confirmación"),void e.preventDefault();if(""===!this.reservation_detail.reservable.destination.trim())return this.showError("Ingrese un destino"),void e.preventDefault();if(""===this.reservation_detail.reservable.hotel_name.trim())return this.showError("Ingrese el nombre del hotel"),void e.preventDefault();if(""===this.reservation_detail.reservable.hotel_phone.toString().trim())return this.showError("Ingrese el teléfono del hotel"),void e.preventDefault();if(!this.reservation_detail.reservable.check_in||""===this.reservation_detail.reservable.check_in.trim()||"Invalid Date"===new Date(this.reservation_detail.reservable.check_in).toString())return this.showError("Seleccione una fecha de Check in"),void e.preventDefault();if(!this.reservation_detail.reservable.check_out||""===this.reservation_detail.reservable.check_out.trim()||"Invalid Date"===new Date(this.reservation_detail.reservable.check_out).toString())return this.showError("Seleccione una fecha de Check out"),void e.preventDefault();if(new Date(this.reservation_detail.reservable.check_in)>new Date(this.reservation_detail.reservable.check_out))return this.showError("La fecha de check in tiene que ser menor al check out"),void e.preventDefault();for(var a=0;a<this.reservation_detail.reservable.hotel_reservation_rooms.length;a+=1){var r=this.reservation_detail.reservable.hotel_reservation_rooms[a];if(""===r.room_type.trim())return this.showError("Ingrese el tipo de habitación para la habitación ".concat(a+1)),void e.preventDefault();if(!this.hasGlobalPrices){if(!r.public_price||Number.isNaN(Number(r.public_price)))return this.showError("Ingrese el precio público para la habitación ".concat(a+1)),void e.preventDefault();if(!r.net_price||Number.isNaN(Number(r.net_price)))return this.showError("Ingrese el precio neto para la habitación ".concat(a+1)),void e.preventDefault();if(parseFloat(r.public_price)<parseFloat(r.net_price))return this.showError("El precio público debe de ser mayor que el precio neto para la habitación ".concat(a+1)),void e.preventDefault()}if(r.minors_quantity>0)for(var i=0;i<r.minors_quantity;i+=1)if(Number.isNaN(r.hotel_reservation_room_people[i]))return this.showError("Ingrese la edad del menor ".concat(i+1)),void e.preventDefault()}if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.public_price)))return this.showError("Ingrese el precio público"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.net_price)))return this.showError("Ingrese el precio neto"),void e.preventDefault();if(parseFloat(this.reservation_detail.public_price)<parseFloat(this.reservation_detail.net_price))return this.showError("El precio público debe de ser mayor al precio neto"),void e.preventDefault();if(this.reservation_detail.id||this.reservation_detail.reservation_detail_comments.push({comment:this.comment}),this.file){var n=new FileReader,o=this.file.name;n.onload=function(e){t.reservation_detail.multimedia={filename:o,file_url:e.target.result},t.$emit("save",t.reservation_detail)};var s=this.file.size/1024/1024;if(s>5)return this.showError("El peso del archivo no puede exceder los 5mb"),void e.preventDefault();n.readAsDataURL(this.file)}else this.$emit("save",this.reservation_detail)},onCommentSaved:function(){this.$emit("onCommentSaved")},capitalizeInput:function(e){return v["a"].capitalize(e)}},setup:function(e){var t=Object(_["ref"])({id:null,reservable_type:"App\\Models\\HotelReservation",reservable_id:null,public_price:null,net_price:null,provider_id:null,cancellable:!1,editable:!1,refundable:!1,terms_conditions:"",provider_confirmation_number:"",reservation_detail_comments:[],cancelled_at:null,cancelled_by_id:null,multimedia:null,invoiced:0,reservable:{destination:"",hotel_name:"",hotel_phone:"",resort_rate:null,sanitation_rate:null,check_in:null,check_out:null,meal_plan:"Solo alojamiento",is_pack:!1,hotel_reservation_rooms:[{room_type:"",public_price:null,net_price:null,special_request:"",adults_quantity:null,minors_quantity:null,hotel_reservation_room_people:[]}]}}),a=Object(_["ref"])(null);if(e.reservationDetailParam){t.value=e.reservationDetailParam;for(var r=0;r<t.value.reservable.hotel_reservation_rooms.length;r+=1)t.value.reservable.hotel_reservation_rooms[r].hotel_reservation_room_people=e.reservationDetailParam.reservable.hotel_reservation_rooms[r].hotel_reservation_room_people.map((function(e){return e.id?e.age:e}))}var i=["Solo alojamiento","Todo incluido","Desayuno","Desayuno bufet","Desayuno continental","Desayuno americano","Comida"],n={prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0};return{reservation_detail:t,refFormModal:a,mealPlans:i,numberFormatOptions:n}}},$=F,R=(a("f9ed"),Object(x["a"])($,u,d,!1,null,null,null)),q=R.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"refFormModal",attrs:{title:"Agrega vuelo","ok-title":"Aceptar","cancel-title":"Cancelar","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":e.isPack},on:{ok:e.save,hidden:function(t){return e.$emit("close")},cancel:e.close}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Proveedor*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.providers,reduce:function(e){return e.getAttr("id")},"get-option-label":function(e){return e.getAttr("name")}},model:{value:e.reservation_detail.provider_id,callback:function(t){e.$set(e.reservation_detail,"provider_id",t)},expression:"reservation_detail.provider_id"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Confirmación*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.provider_confirmation_number,expression:"reservation_detail.provider_confirmation_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Numero de confirmación"},domProps:{value:e.reservation_detail.provider_confirmation_number},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"provider_confirmation_number",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Aerolínea*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de aerolínea"},domProps:{value:e.reservation_detail.reservable.airline},on:{change:function(t){e.reservation_detail.reservable.airline=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("PNR*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.PNR,expression:"reservation_detail.reservable.PNR"}],staticClass:"form-control",attrs:{type:"text",placeholder:"PNR"},domProps:{value:e.reservation_detail.reservable.PNR},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"PNR",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Adultos*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.adults_quantity,expression:"reservation_detail.reservable.adults_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de adultos"},domProps:{value:e.reservation_detail.reservable.adults_quantity},on:{change:e.updatePeopleQty,keydown:function(t){return e.onlyNumbers(t)},input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"adults_quantity",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Menores*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.minors_quantity,expression:"reservation_detail.reservable.minors_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de menores"},domProps:{value:e.reservation_detail.reservable.minors_quantity},on:{change:e.updatePeopleQty,input:[function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"minors_quantity",t.target.value)},function(t){return e.onlyNumbers(t)}]}})])])]),a("hr"),e.reservation_detail.reservable.flight_reservation_people.length>0?a("div",{staticClass:"row"},e._l(e.reservation_detail.reservable.flight_reservation_people,(function(t,r){return a("div",{key:r,staticClass:"col-12"},[a("h6",[e._v("Persona "+e._s(r+1))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-8"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nombre*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre completo"},domProps:{value:t.full_name},on:{change:function(a){t.full_name=e.capitalizeInput(a.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Edad*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"person.age"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Edad"},domProps:{value:t.age},on:{input:function(a){a.target.composing||e.$set(t,"age",a.target.value)}}})])])]),a("hr")])})),0):e._e(),a("div",{staticClass:"d-flex align-items-center"},[a("h6",[e._v("Vuelos*")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12"},[a("flights-group-component",{attrs:{flights:e.reservation_detail.reservable.flight_reservation_flights},on:{"delete-flights":e.deleteAllFlights,"delete-flight":e.deleteFlightInfo}})],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Notas generales* (Visible para cliente)")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.general_notes,expression:"reservation_detail.reservable.general_notes"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Notas generales"},domProps:{value:e.reservation_detail.reservable.general_notes},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"general_notes",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Texto de migración*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.migration_text,expression:"reservation_detail.reservable.migration_text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Texto de migración"},domProps:{value:e.reservation_detail.reservable.migration_text},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"migration_text",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Texto para vuelos internaciones")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.international_flight_text,expression:"reservation_detail.reservable.international_flight_text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Texto de migración"},domProps:{value:e.reservation_detail.reservable.international_flight_text},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"international_flight_text",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Texto para vuelos nacionales")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.national_flight_text,expression:"reservation_detail.reservable.national_flight_text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Texto de migración"},domProps:{value:e.reservation_detail.reservable.national_flight_text},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"national_flight_text",t.target.value)}}})])])]),e.isPack?e._e():a("hr"),e.isPack?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio público",disabled:!e.hasGlobalPrices},model:{value:e.reservation_detail.public_price,callback:function(t){e.$set(e.reservation_detail,"public_price",t)},expression:"reservation_detail.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio neto",disabled:!e.hasGlobalPrices},model:{value:e.reservation_detail.net_price,callback:function(t){e.$set(e.reservation_detail,"net_price",t)},expression:"reservation_detail.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.cancellable,callback:function(t){e.$set(e.reservation_detail,"cancellable",t)},expression:"reservation_detail.cancellable"}},[e._v(" Cancelable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.editable,callback:function(t){e.$set(e.reservation_detail,"editable",t)},expression:"reservation_detail.editable"}},[e._v(" Editable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.refundable,callback:function(t){e.$set(e.reservation_detail,"refundable",t)},expression:"reservation_detail.refundable"}},[e._v(" Reembolsable ")])],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Términos y condiciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.terms_conditions,expression:"reservation_detail.terms_conditions"}],staticClass:"form-control",domProps:{value:e.reservation_detail.terms_conditions},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"terms_conditions",t.target.value)}}})])])]),a("hr"),a("div",[a("reservation-detail-comments-component",{attrs:{comments:e.reservation_detail.reservation_detail_comments,"reservation-detail-id":e.reservation_detail.id,"show-form":e.reservation_detail.id&&e.reservation_detail.id>0},on:{onCommentSaved:e.onCommentSaved}})],1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.reservation_detail.multimedia?e._e():a("div",[a("label",[e._v("Voucher del proveedor")]),a("b-form-file",{attrs:{placeholder:"Escoge el archivo o arrastra aquí...","drop-placeholder":"Suelta aquí..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])])])])])])])},M=[],U=(a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex",staticStyle:{overflow:"auto"}},[e._l(e.flights,(function(t,r){return a("div",{key:r,staticClass:"d-flex"},["2"===t.type.toString()?a("div",{staticClass:"ml-2 d-flex align-items-center",staticStyle:{width:"200px"}},[a("div",{staticClass:"btn-group-vertical"},[a("button",{staticClass:" btn btn-secondary",on:{click:function(t){return e.addScale(!1)}}},[e._v(" Agregar escala ")])])]):e._e(),a("div",{staticClass:"card mr-2",staticStyle:{width:"300px"}},[a("div",{staticClass:"card-header justify-content-end"},[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return e.deleteFlight(t,r)}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}})],1)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"text-center"},[a("h5",[e._v(e._s(e.types[t.type]))]),a("feather-icon",{staticClass:"my-1",attrs:{icon:"SendIcon",size:"26"}}),a("div",{staticClass:"form-group"},[a("label",[e._v("Número de vuelo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.flight_number,expression:"flight.flight_number"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.flight_number},on:{input:function(a){a.target.composing||e.$set(t,"flight_number",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("IATA Salida")]),a("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.departure_airport.toString().toUpperCase()},on:{input:function(e){t.departure_airport=e.target.value.toString().toUpperCase()}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Fecha de salida")]),a("flat-pickr",{staticClass:"form-control",attrs:{config:{enableTime:!0,dateFormat:"Y-m-d H:i",time_24hr:!0,allowInput:!0}},on:{input:function(a){return e.dateChanged(t,r)}},model:{value:t.departure_datetime,callback:function(a){e.$set(t,"departure_datetime",a)},expression:"flight.departure_datetime"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("IATA Llegada")]),a("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.arrive_airport.toString().toUpperCase()},on:{input:function(e){t.arrive_airport=e.target.value.toString().toUpperCase()}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Fecha de Llegada")]),a("flat-pickr",{staticClass:"form-control",attrs:{config:{enableTime:!0,dateFormat:"Y-m-d H:i",time_24hr:!0,allowInput:!0}},model:{value:t.arrive_datetime,callback:function(a){e.$set(t,"arrive_datetime",a)},expression:"flight.arrive_datetime"}})],1)],1)])])])})),a("div",{staticClass:"ml-2 d-flex align-items-center",staticStyle:{width:"200px"}},[a("div",{staticClass:"btn-group-vertical"},[e.isRoundTrip?e._e():a("button",{staticClass:" btn btn-primary",on:{click:e.toRoundTrip}},[e._v(" Convertir a redondo ")]),a("button",{staticClass:" btn btn-secondary",on:{click:function(t){return e.addScale(!0)}}},[e._v(" Agregar escala ")])])])],2)}),L=[],B=a("b85c"),z=(a("e9c4"),a("c740"),a("c38f")),G=a.n(z),H={name:"FlightsGroupComponent",components:{flatPickr:G.a},props:{flights:{type:Array,required:!0}},data:function(){return{types:{1:"Salida",2:"Regreso",3:"Escala"}}},computed:{isRoundTrip:function(){return this.flights.some((function(e){return"2"===e.type.toString()}))}},mounted:function(){},methods:{toRoundTrip:function(){var e,t=JSON.parse(JSON.stringify(this.flights)).reverse(),a=Object(B["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=JSON.parse(JSON.stringify(r));i.type=this.isRoundTrip?3:2,i.departure_city=r.arrive_city,i.departure_airport=r.arrive_airport,i.departure_datetime="",i.arrive_city=r.departure_city,i.arrive_airport=r.departure_airport,i.arrive_datetime="",i.flight_number="",this.flights.push(i)}}catch(n){a.e(n)}finally{a.f()}},addScale:function(e){var t=this.flights.length-1;!e&&this.isRoundTrip&&(t=this.flights.findIndex((function(e){return"2"===e.type.toString()}))-1);var a=this.flights[t],r=JSON.parse(JSON.stringify(this.flights[t]));r.type=3,r.departure_city=a.arrive_city,r.departure_airport=a.arrive_airport,r.departure_datetime=a.arrive_datetime,r.arrive_city="",r.arrive_airport="",r.arrive_datetime="",r.flight_number="",this.flights.splice(t+1,0,r)},deleteFlight:function(e,t){var a=this,r="¿Está seguro que desea borrar el vuelo?";switch(e.type.toString()){case"1":(this.isRoundTrip||this.flights.length>1)&&(r+="<br>Se borrarán todos los vuelos"),this.$swal({title:r,showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Sí, borrar",cancelButtonText:"No, cancelar"}).then((function(e){e.isConfirmed&&a.$emit("delete-flights")}));break;case"2":this.flights.length>=t&&(r+="<br>Se borrarán todas las escalas del vuelo de retorno"),this.$swal({title:r,showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Sí, borrar",cancelButtonText:"No, cancelar"}).then((function(e){e.isConfirmed&&a.$emit("delete-flight",t)}));break;case"3":r+="<br>Se borrarán las escalas subsecuentes",this.$swal({title:r,showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Sí, borrar",cancelButtonText:"No, cancelar"}).then((function(e){e.isConfirmed&&a.$emit("delete-flight",t)}))}},dateChanged:function(e,t){var a=new Date(e.departure_datetime);a.setTime(a.getTime()+72e5),this.flights[t].arrive_datetime=v["a"].dateFormat(a,!0)}}},W=H,J=(a("33ed"),Object(x["a"])(W,U,L,!1,null,null,null)),K=J.exports,Y={name:"FlightServiceModal",components:{FlightsGroupComponent:K,VSelect:m.a,BFormFile:b["a"],BFormCheckbox:h["a"],ReservationDetailCommentsComponent:j,Cleave:E.a},props:{providers:{type:Array,default:function(){return[]}},reservationDetailParam:{type:Object,default:function(){return null}},isPack:{type:Boolean,required:!0}},data:function(){return{file:null,hasGlobalPrices:!0,comment:"",round:[{label:"Si",value:1},{label:"No",value:0}]}},mounted:function(){this.flightUpdated(),this.updateTotal()},methods:{close:function(){this.isPack&&!this.reservationDetailParam.id&&this.$emit("cancel-modal")},show:function(){this.refFormModal.show()},onlyNumbers:function(e){var t=[".","-","+"];t.includes(e.key.toString())&&e.preventDefault()},updatePeopleQty:function(){var e=0,t=0;this.reservation_detail.reservable.adults_quantity&&!Number.isNaN(Number(this.reservation_detail.reservable.adults_quantity))&&(e=parseInt(this.reservation_detail.reservable.adults_quantity,10)),this.reservation_detail.reservable.minors_quantity&&!Number.isNaN(Number(this.reservation_detail.reservable.minors_quantity))&&(t=parseInt(this.reservation_detail.reservable.minors_quantity,10));var a=e+t;this.reservation_detail.reservable.flight_reservation_people=[];for(var r=0;r<a;r+=1)this.reservation_detail.reservable.flight_reservation_people.push({full_name:"",age:null})},addFlightInfo:function(){this.reservation_detail.reservable.flight_reservation_flights.push({departure_city:"",departure_airport:"",departure_datetime:"",arrive_city:"",arrive_airport:"",arrive_datetime:"",public_price:"",net_price:"",type:null,flight_number:"",flight_reservation_flight_additional_services:[],flight_reservation_flight_addons:[]})},deleteAllFlights:function(){this.reservation_detail.reservable.flight_reservation_flights=[{departure_city:"",departure_airport:"",departure_datetime:"",arrive_city:"",arrive_airport:"",arrive_datetime:"",public_price:"",net_price:"",type:1,flight_number:"",flight_reservation_flight_additional_services:[],flight_reservation_flight_addons:[]}]},deleteFlightInfo:function(e){var t=this.reservation_detail.reservable.flight_reservation_flights[e],a=1;if("2"===t.type.toString())a=this.reservation_detail.reservable.flight_reservation_flights.length-e;else if("3"===t.type.toString())for(var r=e+1;r<this.reservation_detail.reservable.flight_reservation_flights.length;r+=1){if("2"===this.reservation_detail.reservable.flight_reservation_flights[r].type.toString())break;a+=1}this.reservation_detail.reservable.flight_reservation_flights.splice(e,a),this.flightUpdated()},flightUpdated:function(){var e=this.reservation_detail.reservable.flight_reservation_flights.filter((function(e){return e.public_price&&!Number.isNaN(e.public_price)||e.net_price&&!Number.isNaN(e.net_price)}));0!==e.length||this.hasGlobalPrices||(this.reservation_detail.public_price=null,this.reservation_detail.net_price=null),this.hasGlobalPrices=0===e.length,this.updateTotal()},updateTotal:function(){if(!this.hasGlobalPrices){var e=0,t=0;this.reservation_detail.reservable.flight_reservation_flights.forEach((function(a){a.public_price&&!Number.isNaN(a.public_price)&&(e+=parseFloat(a.public_price)),a.net_price&&!Number.isNaN(a.net_price)&&(t+=parseFloat(a.net_price))})),this.reservation_detail.public_price=e,this.reservation_detail.net_price=t}},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})},save:function(e){var t=this;if(!this.reservation_detail.provider_id)return this.showError("Seleccione un proveedor"),void e.preventDefault();if(""===this.reservation_detail.provider_confirmation_number.toString().trim())return this.showError("Ingrese un número de confirmación"),void e.preventDefault();if(""===this.reservation_detail.reservable.airline.toString().trim())return this.showError("Ingrese la aerolínea"),void e.preventDefault();if(""===this.reservation_detail.reservable.PNR.toString().trim())return this.showError("Ingrese el PNR"),void e.preventDefault();if(!this.reservation_detail.reservable.adults_quantity||Number.isNaN(this.reservation_detail.reservable.adults_quantity))return this.showError("Ingrese la cantidad de adultos"),void e.preventDefault();if([void 0,null].includes(this.reservation_detail.reservable.minors_quantity)||Number.isNaN(this.reservation_detail.reservable.minors_quantity))return this.showError("Ingrese la cantidad de menores"),void e.preventDefault();for(var a=0;a<this.reservation_detail.reservable.flight_reservation_flights.length;a+=1){var r=this.reservation_detail.reservable.flight_reservation_flights[a];if(!r.type)return this.showError("Seleccione el tipo de vuelo para el vuelo ".concat(a+1)),void e.preventDefault();if(""===r.departure_airport.toString().trim())return this.showError("Ingrese el aeropuerto de salida para el vuelo ".concat(a+1)),void e.preventDefault();if(""===r.departure_datetime.toString().trim())return this.showError("Seleccione la fecha de salida para el vuelo ".concat(a+1)),void e.preventDefault();if(""===r.arrive_airport.toString().trim())return this.showError("Ingrese el aeropuerto de llegada para el vuelo ".concat(a+1)),void e.preventDefault();if(""===r.arrive_datetime.toString().trim())return this.showError("Seleccione la fecha de llegada para el vuelo ".concat(a+1)),void e.preventDefault();if(!this.hasGlobalPrices){if(!r.public_price||Number.isNaN(Number(r.public_price)))return this.showError("Ingrese el precio público para el vuelo ".concat(a+1)),void e.preventDefault();if(!r.net_price||Number.isNaN(Number(r.net_price)))return this.showError("Ingrese el precio neto para el vuelo ".concat(a+1)),void e.preventDefault();if(parseFloat(r.public_price)<parseFloat(r.net_price))return this.showError("El precio público debe de ser mayor que el precio neto para el vuelo ".concat(a+1)),void e.preventDefault()}}if(""===this.reservation_detail.reservable.general_notes.toString().trim())return this.showError("Ingrese notas generales para el cliente"),void e.preventDefault();if(""===this.reservation_detail.reservable.migration_text.toString().trim())return this.showError("Ingrese el texto de información para migración"),void e.preventDefault();if(this.isPack)this.reservation_detail.public_price=0,this.reservation_detail.net_price=0;else{if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.public_price)))return this.showError("Ingrese el precio público"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.net_price)))return this.showError("Ingrese el precio neto"),void e.preventDefault();if(parseFloat(this.reservation_detail.public_price)<parseFloat(this.reservation_detail.net_price))return this.showError("El precio público debe de ser mayor al precio neto"),void e.preventDefault()}if(this.reservation_detail.id)this.$emit("save",this.reservation_detail);else if(this.reservation_detail.reservation_detail_comments.push({comment:this.comment}),this.file){var i=new FileReader,n=this.file.name;i.onload=function(e){t.reservation_detail.multimedia={filename:n,file_url:e.target.result},t.$emit("save",t.reservation_detail)};var o=this.file.size/1024/1024;if(o>5)return this.showError("El peso del archivo no puede exceder los 5mb"),void e.preventDefault();i.readAsDataURL(this.file)}},onCommentSaved:function(){this.$emit("onCommentSaved")},capitalizeInput:function(e){return v["a"].capitalize(e)}},setup:function(e){var t=Object(_["ref"])({id:null,reservable_type:"App\\Models\\FlightReservation",reservable_id:null,public_price:null,net_price:null,provider_id:null,cancellable:!1,editable:!1,refundable:!1,terms_conditions:"",provider_confirmation_number:"",reservation_detail_comments:[],cancelled_at:null,cancelled_by_id:null,multimedia:null,invoiced:0,reservable:{airline:"",PNR:"",round:0,adults_quantity:0,minors_quantity:0,migration_text:"",general_notes:"Para que llegues a tiempo\nDebes estar en el aeropuerto al menos 2 horas antes de la hora de despegue de tu vuelo (3 horas antes para vuelos internacionales).\nLa hora de despegue y aterrizaje es la hora local de cada ciudad\nTodos los pasajeros deben presentar una identificación con foto para cambiar este cupón por un pase de abordar.\n\nAsegúrate de tener la documentación necesaria para viajar, como pasaporte y visas.\nAlgunas aerolíneas cobran por documentar equipaje. El costo del boleto no incluye estos cargos. Consulta con la aerolínea las reglas para documentar equipaje.",international_flight_text:"",national_flight_text:"",is_pack:e.isPack,flight_reservation_people:[],flight_reservation_flights:[{departure_city:"",departure_airport:"",departure_datetime:"",arrive_city:"",arrive_airport:"",arrive_datetime:"",public_price:"",net_price:"",type:1,flight_number:"",flight_reservation_flight_additional_services:[],flight_reservation_flight_addons:[]}]}}),a=Object(_["ref"])(null);e.reservationDetailParam&&(t.value=e.reservationDetailParam);var r={prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0};return{reservation_detail:t,refFormModal:a,numberFormatOptions:r}}},Q=Y,Z=(a("d0af"),Object(x["a"])(Q,V,M,!1,null,null,null)),X=Z.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"refFormModal",attrs:{title:"Agrega servicio de tour","ok-title":"Aceptar","cancel-title":"Cancelar","no-close-on-backdrop":""},on:{ok:e.save,hidden:function(t){return e.$emit("close")}}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Proveedor*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.providers,reduce:function(e){return e.getAttr("id")},"get-option-label":function(e){return e.getAttr("name")}},model:{value:e.reservation_detail.provider_id,callback:function(t){e.$set(e.reservation_detail,"provider_id",t)},expression:"reservation_detail.provider_id"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Confirmación*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.provider_confirmation_number,expression:"reservation_detail.provider_confirmation_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Numero de confirmación"},domProps:{value:e.reservation_detail.provider_confirmation_number},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"provider_confirmation_number",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Destino*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre destino"},domProps:{value:e.reservation_detail.reservable.destination},on:{change:function(t){e.reservation_detail.reservable.destination=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tour*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de tour"},domProps:{value:e.reservation_detail.reservable.tour_name},on:{change:function(t){e.reservation_detail.reservable.tour_name=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Paquete")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de paquete"},domProps:{value:e.reservation_detail.reservable.package_name},on:{change:function(t){e.reservation_detail.reservable.package_name=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Fecha*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.date,expression:"reservation_detail.reservable.date"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Fecha del tour"},domProps:{value:e.reservation_detail.reservable.date},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"date",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Adultos*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.adults_quantity,expression:"reservation_detail.reservable.adults_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de adultos"},domProps:{value:e.reservation_detail.reservable.adults_quantity},on:{change:e.updatePeopleQty,input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"adults_quantity",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Menores*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.minors_quantity,expression:"reservation_detail.reservable.minors_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cantidad de menores"},domProps:{value:e.reservation_detail.reservable.minors_quantity},on:{change:e.updatePeopleQty,input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"minors_quantity",t.target.value)}}})])])]),a("div",{staticClass:"row"},e._l(parseInt(e.peopleQty),(function(t){return a("div",{key:t,staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Edad "+e._s(t)+"*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservation_detail_ages[t-1],expression:"reservation_detail.reservation_detail_ages[index-1]"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.reservation_detail.reservation_detail_ages[t-1]},on:{input:function(a){a.target.composing||e.$set(e.reservation_detail.reservation_detail_ages,t-1,a.target.value)}}})])])})),0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Descripción*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.description,expression:"reservation_detail.reservable.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Descripción del tour"},domProps:{value:e.reservation_detail.reservable.description},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"description",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio público"},model:{value:e.reservation_detail.public_price,callback:function(t){e.$set(e.reservation_detail,"public_price",t)},expression:"reservation_detail.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio neto"},model:{value:e.reservation_detail.net_price,callback:function(t){e.$set(e.reservation_detail,"net_price",t)},expression:"reservation_detail.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.cancellable,callback:function(t){e.$set(e.reservation_detail,"cancellable",t)},expression:"reservation_detail.cancellable"}},[e._v(" Cancelable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.editable,callback:function(t){e.$set(e.reservation_detail,"editable",t)},expression:"reservation_detail.editable"}},[e._v(" Editable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.refundable,callback:function(t){e.$set(e.reservation_detail,"refundable",t)},expression:"reservation_detail.refundable"}},[e._v(" Reembolsable ")])],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Términos y condiciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.terms_conditions,expression:"reservation_detail.terms_conditions"}],staticClass:"form-control",domProps:{value:e.reservation_detail.terms_conditions},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"terms_conditions",t.target.value)}}})])])]),a("hr"),a("div",[a("reservation-detail-comments-component",{attrs:{comments:e.reservation_detail.reservation_detail_comments,"reservation-detail-id":e.reservation_detail.id,"show-form":e.reservation_detail.id&&e.reservation_detail.id>0},on:{onCommentSaved:e.onCommentSaved}})],1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.reservation_detail.multimedia?e._e():a("div",[a("label",[e._v("Voucher del proveedor")]),a("b-form-file",{attrs:{placeholder:"Escoge el archivo o arrastra aquí...","drop-placeholder":"Suelta aquí..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])])])])])])])},te=[],ae=(a("a4d3"),a("e01a"),{name:"TourServiceView",components:{vSelect:m.a,BFormCheckbox:h["a"],ReservationDetailCommentsComponent:j,BFormFile:b["a"],Cleave:E.a},props:{providers:{type:Array,default:function(){return[]}},reservationDetailParam:{type:Object,default:function(){return null}}},data:function(){return{comment:"",peopleQty:0,file:null}},mounted:function(){this.updatePeopleQty()},methods:{updatePeopleQty:function(){var e=0,t=0;this.reservation_detail.reservable.adults_quantity&&!Number.isNaN(Number(this.reservation_detail.reservable.adults_quantity))&&(e=parseInt(this.reservation_detail.reservable.adults_quantity,10)),this.reservation_detail.reservable.minors_quantity&&!Number.isNaN(Number(this.reservation_detail.reservable.minors_quantity))&&(t=parseInt(this.reservation_detail.reservable.minors_quantity,10)),this.peopleQty=e+t},show:function(){this.refFormModal.show()},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})},save:function(e){var t=this;if(!this.reservation_detail.provider_id)return this.showError("Seleccione un proveedor"),void e.preventDefault();if(""===this.reservation_detail.provider_confirmation_number.toString().trim())return this.showError("Ingrese un número de confirmación"),void e.preventDefault();if(""===this.reservation_detail.reservable.destination.trim())return this.showError("Ingrese un destino"),void e.preventDefault();if(""===this.reservation_detail.reservable.tour_name.trim())return this.showError("Ingrese el nombre del tour"),void e.preventDefault();if(!this.reservation_detail.reservable.date||""===this.reservation_detail.reservable.date.trim()||"Invalid Date"===new Date(this.reservation_detail.reservable.date).toString())return this.showError("Seleccione una fecha para el tour"),void e.preventDefault();if(Number.isNaN(this.reservation_detail.reservable.adults_quantity))return this.showError("Ingrese la cantidad de adultos"),void e.preventDefault();if(Number.isNaN(this.reservation_detail.reservable.minors_quantity))return this.showError("Ingrese la cantidad de menores"),void e.preventDefault();for(var a=0;a<this.peopleQty;a+=1)if(!this.reservation_detail.reservation_detail_ages[a]||Number.isNaN(this.reservation_detail.reservation_detail_ages[a]))return this.showError("Ingrese la edad de la persona ".concat(a+1)),void e.preventDefault();if(""===this.reservation_detail.reservable.description.trim())return this.showError("Ingrese la descripción del tour"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.public_price)))return this.showError("Ingrese el precio público"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.net_price)))return this.showError("Ingrese el precio neto"),void e.preventDefault();if(parseFloat(this.reservation_detail.public_price)<parseFloat(this.reservation_detail.net_price))return this.showError("El precio público debe de ser mayor al precio neto"),void e.preventDefault();if(this.reservation_detail.id)this.$emit("save",this.reservation_detail);else if(this.reservation_detail.reservation_detail_comments.push({comment:this.comment}),this.file){var r=new FileReader,i=this.file.name;r.onload=function(e){t.reservation_detail.multimedia={filename:i,file_url:e.target.result},t.$emit("save",t.reservation_detail)};var n=this.file.size/1024/1024;if(n>5)return this.showError("El peso del archivo no puede exceder los 5mb"),void e.preventDefault();r.readAsDataURL(this.file)}},onCommentSaved:function(){this.$emit("onCommentSaved")},capitalizeInput:function(e){return v["a"].capitalize(e)}},setup:function(e){var t=Object(_["ref"])({id:null,reservable_type:"App\\Models\\TourReservation",reservable_id:null,public_price:null,net_price:null,provider_id:null,cancellable:!1,editable:!1,refundable:!1,terms_conditions:"",provider_confirmation_number:"",reservation_detail_ages:[],reservation_detail_comments:[],cancelled_at:null,cancelled_by_id:null,multimedia:null,invoiced:0,reservable:{destination:"",tour_name:"",package_name:"",adults_quantity:null,minors_quantity:null,description:""}}),a=Object(_["ref"])(null);e.reservationDetailParam&&(t.value=e.reservationDetailParam,t.value.reservation_detail_ages=e.reservationDetailParam.reservation_detail_ages.map((function(e){return e.id?e.age:e})));var r={prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0};return{reservation_detail:t,refFormModal:a,numberFormatOptions:r}}}),re=ae,ie=(a("84cd"),Object(x["a"])(re,ee,te,!1,null,null,null)),ne=ie.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"refFormModal",attrs:{title:"Agrega renta de carro","ok-title":"Aceptar","cancel-title":"Cancelar","no-close-on-backdrop":""},on:{ok:e.save,hidden:function(t){return e.$emit("close")}}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Proveedor*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.providers,reduce:function(e){return e.getAttr("id")},"get-option-label":function(e){return e.getAttr("name")}},model:{value:e.reservation_detail.provider_id,callback:function(t){e.$set(e.reservation_detail,"provider_id",t)},expression:"reservation_detail.provider_id"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Confirmación*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.provider_confirmation_number,expression:"reservation_detail.provider_confirmation_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Numero de confirmación"},domProps:{value:e.reservation_detail.provider_confirmation_number},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"provider_confirmation_number",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Entrega*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Lugar de entrega"},domProps:{value:e.reservation_detail.reservable.pickup},on:{change:function(t){e.reservation_detail.reservable.pickup=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Lugar y hora de entrega*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.datetime_pickup,expression:"reservation_detail.reservable.datetime_pickup"}],staticClass:"form-control",attrs:{placeholder:"Fecha y hora de entrega",type:"datetime-local"},domProps:{value:e.reservation_detail.reservable.datetime_pickup},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"datetime_pickup",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Devolución*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Lugar de devolución"},domProps:{value:e.reservation_detail.reservable.return},on:{change:function(t){e.reservation_detail.reservable.return=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Lugar y hora de devolución*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.return_datetime,expression:"reservation_detail.reservable.return_datetime"}],staticClass:"form-control",attrs:{placeholder:"Fecha y hora de devolución",type:"datetime-local"},domProps:{value:e.reservation_detail.reservable.return_datetime},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"return_datetime",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nombre de agencia*")]),a("input",{staticClass:"form-control text-box-n",attrs:{type:"text",placeholder:"Nombre de agencia de renta"},domProps:{value:e.reservation_detail.reservable.agency_name},on:{change:function(t){e.reservation_detail.reservable.agency_name=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Categoría*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Categoría de carro"},domProps:{value:e.reservation_detail.reservable.car_category},on:{change:function(t){e.reservation_detail.reservable.car_category=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Seguro*")]),a("v-select",{attrs:{clearable:!1,reduce:function(e){return e.value},options:[{label:"Si",value:!0},{label:"No",value:!1}]},model:{value:e.reservation_detail.reservable.insurance,callback:function(t){e.$set(e.reservation_detail.reservable,"insurance",t)},expression:"reservation_detail.reservable.insurance"}})],1)]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Recomendaciones")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.recommendations,expression:"reservation_detail.reservable.recommendations"}],staticClass:"form-control",domProps:{value:e.reservation_detail.reservable.recommendations},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"recommendations",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"d-flex align-items-center mb-2"},[a("h6",[e._v("Adicionales")]),a("b-button",{staticClass:"btn-icon ml-1",attrs:{variant:"primary"},on:{click:e.addAddon}},[a("feather-icon",{attrs:{icon:"PlusIcon"}})],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.reservation_detail.reservable.car_rental_addons,(function(t,r){return a("car-rental-addon-form-component",{key:r,attrs:{addon:t,number:r+1},on:{delete:function(t){return e.deleteAddon(r)}}})})),1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio público"},model:{value:e.reservation_detail.public_price,callback:function(t){e.$set(e.reservation_detail,"public_price",t)},expression:"reservation_detail.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio neto"},model:{value:e.reservation_detail.net_price,callback:function(t){e.$set(e.reservation_detail,"net_price",t)},expression:"reservation_detail.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.cancellable,callback:function(t){e.$set(e.reservation_detail,"cancellable",t)},expression:"reservation_detail.cancellable"}},[e._v(" Cancelable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.editable,callback:function(t){e.$set(e.reservation_detail,"editable",t)},expression:"reservation_detail.editable"}},[e._v(" Editable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.refundable,callback:function(t){e.$set(e.reservation_detail,"refundable",t)},expression:"reservation_detail.refundable"}},[e._v(" Reembolsable ")])],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Términos y condiciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.terms_conditions,expression:"reservation_detail.terms_conditions"}],staticClass:"form-control",domProps:{value:e.reservation_detail.terms_conditions},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"terms_conditions",t.target.value)}}})])])]),a("hr"),a("div",[a("reservation-detail-comments-component",{attrs:{comments:e.reservation_detail.reservation_detail_comments,"reservation-detail-id":e.reservation_detail.id,"show-form":e.reservation_detail.id&&e.reservation_detail.id>0},on:{onCommentSaved:e.onCommentSaved}})],1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.reservation_detail.multimedia?e._e():a("div",[a("label",[e._v("Voucher del proveedor")]),a("b-form-file",{attrs:{placeholder:"Escoge el archivo o arrastra aquí...","drop-placeholder":"Suelta aquí..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])])])])])])])},se=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h6",[e._v("Adicional "+e._s(e.number))]),a("b-button",{staticClass:"btn-icon ml-1",attrs:{variant:"danger"},on:{click:e.deleteAddon}},[a("feather-icon",{attrs:{icon:"TrashIcon"}})],1)]},proxy:!0}])},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nombre*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre del adicional"},domProps:{value:e.addon.name},on:{change:function(t){e.addon.name=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addon.public_price,expression:"addon.public_price"}],staticClass:"form-control text-box-n",attrs:{type:"text",placeholder:"Precio público"},domProps:{value:e.addon.public_price},on:{input:function(t){t.target.composing||e.$set(e.addon,"public_price",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addon.net_price,expression:"addon.net_price"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Precio neto"},domProps:{value:e.addon.net_price},on:{input:function(t){t.target.composing||e.$set(e.addon,"net_price",t.target.value)}}})])])])])},ce=[],ue={name:"CarRentalAddonFormComponent",components:{BCard:C["a"],BButton:f["a"]},props:{addon:{type:Object,default:function(){return{net_price:null,public_price:null,name:""}}},number:{type:Number,required:!0}},methods:{deleteAddon:function(){this.$emit("delete")},roomAddon:function(){this.$emit("update")},capitalizeInput:function(e){return v["a"].capitalize(e)}}},de=ue,ve=Object(x["a"])(de,le,ce,!1,null,null,null),pe=ve.exports,me={name:"CarRentalServiceView",components:{VSelect:m.a,BButton:f["a"],BFormFile:b["a"],CarRentalAddonFormComponent:pe,BFormCheckbox:h["a"],ReservationDetailCommentsComponent:j,Cleave:E.a},props:{providers:{type:Array,default:function(){return[]}},reservationDetailParam:{type:Object,default:function(){return null}}},data:function(){return{file:null,comment:""}},methods:{show:function(){this.refFormModal.show()},addAddon:function(){this.reservation_detail.reservable.car_rental_addons.push({name:"",public_price:null,net_price:null})},deleteAddon:function(e){this.reservation_detail.reservable.car_rental_addons.splice(e,1)},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})},save:function(e){var t=this;if(!this.reservation_detail.provider_id)return this.showError("Seleccione un proveedor"),void e.preventDefault();if(""===this.reservation_detail.provider_confirmation_number.toString().trim())return this.showError("Ingrese un número de confirmación"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.public_price)))return this.showError("Ingrese el precio público"),void e.preventDefault();if(!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.net_price)))return this.showError("Ingrese el precio neto"),void e.preventDefault();if(parseFloat(this.reservation_detail.public_price)<parseFloat(this.reservation_detail.net_price))return this.showError("El precio público debe de ser mayor al precio neto"),void e.preventDefault();if(this.reservation_detail.id)this.$emit("save",this.reservation_detail);else if(this.reservation_detail.reservation_detail_comments.push({comment:this.comment}),this.file){var a=new FileReader,r=this.file.name;a.onload=function(e){t.reservation_detail.multimedia={filename:r,file_url:e.target.result},t.$emit("save",t.reservation_detail)};var i=this.file.size/1024/1024;if(i>5)return this.showError("El peso del archivo no puede exceder los 5mb"),void e.preventDefault();a.readAsDataURL(this.file)}},onCommentSaved:function(){this.$emit("onCommentSaved")},capitalizeInput:function(e){return v["a"].capitalize(e)}},setup:function(e){var t=Object(_["ref"])({id:null,reservable_type:"App\\Models\\CarRentalReservation",reservable_id:null,public_price:null,net_price:null,provider_id:null,cancellable:!1,editable:!1,refundable:!1,terms_conditions:"",provider_confirmation_number:"",reservation_detail_comments:[],cancelled_at:null,cancelled_by_id:null,multimedia:null,invoiced:0,reservable:{pickup:"",datetime_pickup:null,return_datetime:null,return:"",agency_name:"",car_category:"",insurance:!1,recommendations:"",car_rental_addons:[]}}),a=Object(_["ref"])(null);e.reservationDetailParam&&(t.value=e.reservationDetailParam);var r={prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0};return{reservation_detail:t,refFormModal:a,numberFormatOptions:r}}},fe=me,he=(a("fadd"),Object(x["a"])(fe,oe,se,!1,null,null,null)),be=he.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"refFormModal",attrs:{title:"Agrega servicio de transporte","ok-title":"Aceptar","cancel-title":"Cancelar","no-close-on-backdrop":""},on:{ok:e.save,hidden:function(t){return e.$emit("close")}}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e.reservation_detail?a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Proveedor*")]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.providers,reduce:function(e){return e.getAttr("id")},"get-option-label":function(e){return e.getAttr("name")}},model:{value:e.reservation_detail.provider_id,callback:function(t){e.$set(e.reservation_detail,"provider_id",t)},expression:"reservation_detail.provider_id"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Confirmación*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.provider_confirmation_number,expression:"reservation_detail.provider_confirmation_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Numero de confirmación"},domProps:{value:e.reservation_detail.provider_confirmation_number},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"provider_confirmation_number",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Meeting Point*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Meeting Point"},domProps:{value:e.reservation_detail.reservable.pickup},on:{change:function(t){e.reservation_detail.reservable.pickup=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Destino*")]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Destino"},domProps:{value:e.reservation_detail.reservable.destination},on:{change:function(t){e.reservation_detail.reservable.destination=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Instrucciones/Indicaciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.pickup_comment,expression:"reservation_detail.reservable.pickup_comment"}],staticClass:"form-control",attrs:{placeholder:"Instrucciones/Indicaciones de como llegar al punto de encuentro"},domProps:{value:e.reservation_detail.reservable.pickup_comment},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"pickup_comment",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Comentarios para proveedor*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.provider_notes,expression:"reservation_detail.reservable.provider_notes"}],staticClass:"form-control",attrs:{placeholder:"Comentarios para proveedor"},domProps:{value:e.reservation_detail.reservable.provider_notes},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"provider_notes",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Lugar y hora*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.datetime,expression:"reservation_detail.reservable.datetime"}],staticClass:"form-control",attrs:{placeholder:"Fecha y hora de arribo",type:"datetime-local"},domProps:{value:e.reservation_detail.reservable.datetime},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"datetime",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tipo de vehiculo*")]),a("input",{staticClass:"form-control",attrs:{placeholder:"Tipo de Vehiculo",type:"text"},domProps:{value:e.reservation_detail.reservable.transportation_type},on:{change:function(t){e.reservation_detail.reservable.transportation_type=e.capitalizeInput(t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tipo de servicio*")]),a("v-select",{attrs:{clearable:!1,reduce:function(e){return e.value},options:[{label:"Privado",value:1},{label:"Compartido",value:2}]},model:{value:e.reservation_detail.reservable.type,callback:function(t){e.$set(e.reservation_detail.reservable,"type",t)},expression:"reservation_detail.reservable.type"}})],1)])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Adultos*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.adults_quantity,expression:"reservation_detail.reservable.adults_quantity"}],staticClass:"form-control text-box-n",attrs:{type:"number",placeholder:"Adultos"},domProps:{value:e.reservation_detail.reservable.adults_quantity},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"adults_quantity",t.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Menores*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.reservable.minors_quantity,expression:"reservation_detail.reservable.minors_quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Menores"},domProps:{value:e.reservation_detail.reservable.minors_quantity},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail.reservable,"minors_quantity",t.target.value)}}})])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio público*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio público"},model:{value:e.reservation_detail.public_price,callback:function(t){e.$set(e.reservation_detail,"public_price",t)},expression:"reservation_detail.public_price"}})],1)]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Precio neto*")]),a("cleave",{staticClass:"form-control",attrs:{options:e.numberFormatOptions,placeholder:"Precio neto"},model:{value:e.reservation_detail.net_price,callback:function(t){e.$set(e.reservation_detail,"net_price",t)},expression:"reservation_detail.net_price"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.cancellable,callback:function(t){e.$set(e.reservation_detail,"cancellable",t)},expression:"reservation_detail.cancellable"}},[e._v(" Cancelable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.editable,callback:function(t){e.$set(e.reservation_detail,"editable",t)},expression:"reservation_detail.editable"}},[e._v(" Editable ")])],1),a("div",{staticClass:"col-12 col-md-4"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.reservation_detail.refundable,callback:function(t){e.$set(e.reservation_detail,"refundable",t)},expression:"reservation_detail.refundable"}},[e._v(" Reembolsable ")])],1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Términos y condiciones*")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reservation_detail.terms_conditions,expression:"reservation_detail.terms_conditions"}],staticClass:"form-control",domProps:{value:e.reservation_detail.terms_conditions},on:{input:function(t){t.target.composing||e.$set(e.reservation_detail,"terms_conditions",t.target.value)}}})])])]),a("hr"),a("div",[a("reservation-detail-comments-component",{attrs:{comments:e.reservation_detail.reservation_detail_comments,"reservation-detail-id":e.reservation_detail.id,"show-form":e.reservation_detail.id&&e.reservation_detail.id>0},on:{onCommentSaved:e.onCommentSaved}})],1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.reservation_detail.multimedia?e._e():a("div",[a("label",[e._v("Voucher del proveedor")]),a("b-form-file",{attrs:{placeholder:"Escoge el archivo o arrastra aquí...","drop-placeholder":"Suelta aquí..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])])])])]):e._e()])])},ge=[],ye={name:"PickupServiceView",components:{vSelect:m.a,BFormCheckbox:h["a"],BFormFile:b["a"],ReservationDetailCommentsComponent:j,Cleave:E.a},props:{providers:{type:Array,default:function(){return[]}},reservationDetailParam:{type:Object,default:function(){return null}}},data:function(){return{file:null,comment:""}},methods:{show:function(){this.refFormModal.show()},showError:function(e){this.$swal({title:"Error",text:e,showCancelButton:!1,confirmButtonText:"Ok",confirmButtonColor:"#41b882"})},save:function(e){var t=this;if(!this.reservation_detail.provider_id)return this.showError("Seleccione un proveedor"),void e.preventDefault();if(""===this.reservation_detail.provider_confirmation_number.toString().trim())return this.showError("Ingrese un número de confirmación"),void e.preventDefault();if(""===this.reservation_detail.reservable.pickup.trim())return this.showError("Ingrese un punto de encuentro"),void e.preventDefault();if(""===this.reservation_detail.reservable.destination.trim())return this.showError("Ingrese un destino"),void e.preventDefault();if(""===this.reservation_detail.reservable.pickup_comment.trim())return this.showError("Ingrese un instrucciones o indicaciones para el cliente"),void e.preventDefault();if(!this.reservation_detail.reservable.datetime)return this.showError("Seleccione Fecha y Hora del servicio"),void e.preventDefault();if(""===this.reservation_detail.reservable.transportation_type.trim())return this.showError("Ingrese el tipo de vehículo del servicio"),void e.preventDefault();if(Number.isNaN(this.reservation_detail.reservable.adults_quantity))return this.showError("Ingrese la cantidad de adultos"),void e.preventDefault();if(Number.isNaN(this.reservation_detail.reservable.minors_quantity)&&(this.showError("Ingrese la cantidad de menores"),e.preventDefault()),!this.reservation_detail.public_price||Number.isNaN(Number(this.reservation_detail.net_price)))return this.showError("Ingrese el precio neto"),void e.preventDefault();if(parseFloat(this.reservation_detail.public_price)<parseFloat(this.reservation_detail.net_price))return this.showError("El precio público debe de ser mayor al precio neto"),void e.preventDefault();if(!this.reservation_detail.reservable.provider_notes)return this.showError("Ingrese algun comentario para el proveedor"),void e.preventDefault();if(this.reservation_detail.id)this.$emit("save",this.reservation_detail);else if(this.reservation_detail.reservation_detail_comments.push({comment:this.comment}),this.file){var a=new FileReader,r=this.file.name;a.onload=function(e){t.reservation_detail.multimedia={filename:r,file_url:e.target.result},t.$emit("save",t.reservation_detail)};var i=this.file.size/1024/1024;if(i>5)return this.showError("El peso del archivo no puede exceder los 5mb"),void e.preventDefault();a.readAsDataURL(this.file)}},onCommentSaved:function(){this.$emit("onCommentSaved")},capitalizeInput:function(e){return v["a"].capitalize(e)}},setup:function(e){var t=Object(_["ref"])({id:null,reservable_type:"App\\Models\\PickupReservation",reservable_id:null,public_price:null,net_price:null,provider_id:null,cancellable:!1,editable:!1,refundable:!1,terms_conditions:"",provider_confirmation_number:"",reservation_detail_comments:[],cancelled_at:null,cancelled_by_id:null,multimedia:null,invoiced:0,reservable:{destination:"",pickup:"",pickup_comment:"",datetime:null,adults_quantity:null,minors_quantity:null,type:"",transportation_type:"",provider_notes:""}}),a=Object(_["ref"])(null);e.reservationDetailParam&&(t.value=e.reservationDetailParam);var r={prefix:"$ ",numeral:!0,numeralThousandsGroupStyle:"thousand",rawValueTrimPrefix:!0};return{reservation_detail:t,refFormModal:a,numberFormatOptions:r}}},Ce=ye,ke=(a("a6ed"),Object(x["a"])(Ce,_e,ge,!1,null,null,null)),we=ke.exports,xe={namespaced:!0,state:{servicesTypesMap:[{text:"Hotel",class:"App\\Models\\HotelReservation",value:q},{text:"Vuelo",class:"App\\Models\\FlightReservation",value:X},{text:"Tour",class:"App\\Models\\TourReservation",value:ne},{text:"Renta de coche",class:"App\\Models\\CarRentalReservation",value:be},{text:"Traslado",class:"App\\Models\\PickupReservation",value:we}]},getters:{},actions:{}};r["default"].use(i["a"]);t["a"]=new i["a"].Store({modules:{app:s,appConfig:l,verticalMenu:c,reservation:xe},strict:Object({NODE_ENV:"production",VUE_APP_API_URL:"https://reservas.tdbyanarivera.com",VUE_APP_CLIENT_ID:"2",VUE_APP_CLIENT_SECRET:"alJF3qa4EUp2Z9Mp4tEO4cm5RUsrAzEOFp8I7tpM",BASE_URL:"/"}).DEV})},"4cff":function(e,t,a){},"4f8f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r,i,n=a("2b0e"),o=a("51c2"),s=a("dbbe"),l=a("5886"),c=a("ed09"),u=a("250e"),d=a("a18c"),v=a("4360"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-100",class:[e.skinClasses],attrs:{id:"app"}},[a(e.layout,{tag:"component"},[a("router-view")],1)],1)},m=[],f=(a("d3b7"),a("3ca3"),a("ddb0"),a("498a"),a("a9e3"),a("fb6a"),a("e9c4"),a("1dff")),h=a("04b0"),b=a("b8f2"),_=a("16ce"),g=a("8b71"),y=function(){return Promise.all([a.e("chunk-19bb2df7"),a.e("chunk-2dcad7ba"),a.e("chunk-04351952"),a.e("chunk-0b2d7c7b")]).then(a.bind(null,"03d1"))},C=function(){return Promise.all([a.e("chunk-19bb2df7"),a.e("chunk-2dcad7ba"),a.e("chunk-04351952"),a.e("chunk-3d336d2c")]).then(a.bind(null,"2607"))},k=function(){return a.e("chunk-2d22bcc3").then(a.bind(null,"f102"))},w={components:{LayoutHorizontal:C,LayoutVertical:y,LayoutFull:k},data:function(){return{}},computed:{layout:function(){return"full"===this.$route.meta.layout?"layout-full":"layout-".concat(this.contentLayoutType)},contentLayoutType:function(){return this.$store.state.appConfig.layout.type}},beforeCreate:function(){for(var e=this,t=["primary","secondary","success","info","warning","danger","light","dark"],a=0,r=t.length;a<r;a++)f["b"][t[a]]=Object(_["a"])("--".concat(t[a]),document.documentElement).value.trim();for(var i=["xs","sm","md","lg","xl"],n=0,o=i.length;n<o;n++)f["a"][i[n]]=Number(Object(_["a"])("--breakpoint-".concat(i[n]),document.documentElement).value.slice(0,-2));var s=f["c"].layout.isRTL;document.documentElement.setAttribute("dir",s?"rtl":"ltr"),Object(g["c"])()&&this.$store.dispatch("app/updateUserInfo").then((function(t){localStorage.setItem("userData",JSON.stringify(t)),e.$ability.update(t.ability)}))},setup:function(){var e=Object(b["a"])(),t=e.skin,a=e.skinClasses;"dark"===t.value&&document.body.classList.add("dark-layout"),Object(h["provideToast"])({hideProgressBar:!0,closeOnClick:!1,closeButton:!1,icon:!1,timeout:3e3,transition:"Vue-Toastification__fade"}),v["a"].commit("app/UPDATE_WINDOW_WIDTH",window.innerWidth);var r=Object(_["b"])(),i=r.width;return Object(c["watch"])(i,(function(e){v["a"].commit("app/UPDATE_WINDOW_WIDTH",e)})),{skinClasses:a}}},x=w,O=a("2877"),j=Object(O["a"])(x,p,m,!1,null,null,null),N=j.exports,E=(a("b0c0"),a("5530")),P=a("0a35"),T={name:"FeatherIcon",functional:!0,props:{icon:{required:!0,type:[String,Object]},size:{type:String,default:"14"},badge:{type:[String,Object,Number],default:null},badgeClasses:{type:[String,Object,Array],default:"badge-primary"}},render:function(e,t){var a=t.props,r=t.data,i=e(P[a.icon],Object(E["a"])({props:{size:a.size}},r));if(!a.badge)return i;var n=e("span",{staticClass:"badge badge-up badge-pill",class:a.badgeClasses},[a.badge]);return e("span",{staticClass:"feather-icon position-relative"},[i,n])}},A=T,S=(a("adf4"),Object(O["a"])(A,r,i,!1,null,null,null)),D=S.exports;n["default"].component(D.name,D);var I=a("2b88"),F=a.n(I);n["default"].use(F.a);var $=a("6c42");a("cc0f");n["default"].use($["default"],{hideProgressBar:!0,closeOnClick:!1,closeButton:!1,icon:!1,timeout:3e3,transition:"Vue-Toastification__fade"});var R=a("2b52"),q=a("d680");n["default"].use(R["a"],q["a"]),n["default"].use(o["a"]),n["default"].use(s["a"]),n["default"].use(l["default"]),n["default"].component("UserInfoComponent",u["a"]),n["default"].use(c["default"]),a("4131"),a("78a7"),n["default"].config.productionTip=!1,new n["default"]({router:d["a"],store:v["a"],render:function(e){return e(N)}}).$mount("#app")},7100:function(e,t,a){"use strict";var r=a("5530"),i=a("d4ec"),n=a("bee2"),o=a("ade3"),s=(a("99af"),a("d3b7"),a("ac1f"),a("5319"),a("4de4"),{loginEndpoint:"/api/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/api/oauth/token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"}),l=function(){function e(t,a){var n=this;Object(i["a"])(this,e),Object(o["a"])(this,"axiosIns",null),Object(o["a"])(this,"jwtConfig",Object(r["a"])({},s)),Object(o["a"])(this,"isAlreadyFetchingAccessToken",!1),Object(o["a"])(this,"subscribers",[]),this.axiosIns=t,this.jwtConfig=Object(r["a"])(Object(r["a"])({},this.jwtConfig),a),this.axiosIns.interceptors.request.use((function(e){var t=n.getToken();return t&&(e.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),this.axiosIns.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,a=e.response,r=t;return a&&401===a.status?"/api/oauth/token"!==t.url&&n.getRefreshToken()?(n.isAlreadyFetchingAccessToken||(n.isAlreadyFetchingAccessToken=!0,n.refreshToken().then((function(e){n.isAlreadyFetchingAccessToken=!1,n.setToken(e.data.accessToken),n.setRefreshToken(e.data.refreshToken),n.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){n.addSubscriber((function(t){r.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t),e(n.axiosIns(r))}))}))):(localStorage.clear(),window.location.replace("/login"),Promise.reject()):Promise.reject(e)}))}return Object(n["a"])(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=Object.assign.apply(Object,[{grant_type:"password",client_id:"2",client_secret:"alJF3qa4EUp2Z9Mp4tEO4cm5RUsrAzEOFp8I7tpM",scope:"*"}].concat(t));return this.axiosIns.post(this.jwtConfig.loginEndpoint,r)}},{key:"register",value:function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=this.axiosIns).post.apply(e,[this.jwtConfig.registerEndpoint].concat(a))}},{key:"refreshToken",value:function(){var e={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:"2",client_secret:"alJF3qa4EUp2Z9Mp4tEO4cm5RUsrAzEOFp8I7tpM",scope:"*"};return this.axiosIns.post(this.jwtConfig.refreshEndpoint,e)}}]),e}();function c(e,t){var a=new l(e,t);return{jwt:a}}var u=a("7f80"),d=c(u["a"],{}),v=d.jwt;t["a"]=v},"78a7":function(e,t,a){},"7f80":function(e,t,a){"use strict";var r=a("2b0e"),i=a("bc3a"),n=a.n(i),o=n.a.create({baseURL:"https://reservas.tdbyanarivera.com"});r["default"].prototype.$http=o,t["a"]=o},"84cd":function(e,t,a){"use strict";a("d1fe")},"87b0":function(e,t,a){},"891e":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("d4ec"),i=a("bee2"),n=a("257e"),o=a("262e"),s=a("2caf"),l=a("ade3"),c=(a("d3b7"),a("159b"),a("7039"),a("25f0"),a("fefb")),u=a("8bb7"),d=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(e,i,o){var s,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(r["a"])(this,a),s=t.call(this,e,i,"text",c),Object(l["a"])(Object(n["a"])(s),"options",void 0),Object(l["a"])(Object(n["a"])(s),"getComponent",(function(){return u["a"]})),s.options=o,s}return Object(i["a"])(a,[{key:"values",value:function(){var e=this,t=[];return Object.getOwnPropertyNames(this.options).forEach((function(a){"string"===typeof e.options[a]&&t.push({value:a,text:e.options[a]})})),t}},{key:"getUserValue",value:function(){var e=this.getText(this.originalValue);return this.mask?this.mask(e):e}},{key:"setValue",value:function(e){e&&(this.value=e.toString(),this.originalValue=e.toString())}},{key:"getText",value:function(e){return this.options[e]}}]),a}(c["a"])},"8b71":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var r=a("7100"),i=a("d680"),n=function(){return localStorage.getItem("userData")&&localStorage.getItem(r["a"].jwtConfig.storageTokenKeyName)},o=function(){return JSON.parse(localStorage.getItem("userData"))},s=function(){return i["a"].can("VIEW_GENERAL_DASHBOARD","Dashboard")?"/":i["a"].can("VIEW_INDIVIDUAL_DASHBOARD","Dashboard")?"/dashboard":{name:"auth-login"}}},"8bb7":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.options.enabled?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.options.label))]),a("v-select",{attrs:{label:"text",clearable:!1,options:e.field.values(),reduce:function(e){return e.value},multiple:e.field.multiple,disabled:!e.options.enabled},on:{input:e.onChange},model:{value:e.field.value,callback:function(t){e.$set(e.field,"value",t)},expression:"field.value"}})],1):e._e()},i=[],n=a("4a7a"),o=a.n(n),s={name:"SelectComponent",components:{vSelect:o.a},props:["options","field"],data:function(){return{}},methods:{onChange:function(){this.$emit("change",this.field)}}},l=s,c=(a("bd2f"),a("2877")),u=Object(c["a"])(l,r,i,!1,null,null,null);t["a"]=u.exports},"8d34":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("c7eb"),i=a("1da1"),n=a("d4ec"),o=a("bee2"),s=a("ade3"),l=function(){function e(t,a,r,i,o,l,c){Object(n["a"])(this,e),Object(s["a"])(this,"models",[]),Object(s["a"])(this,"currentPage",void 0),Object(s["a"])(this,"lastPage",void 0),Object(s["a"])(this,"perPage",void 0),Object(s["a"])(this,"total",void 0),Object(s["a"])(this,"related",void 0),Object(s["a"])(this,"model",void 0),this.models=t,this.currentPage=a,this.lastPage=r,this.perPage=i,this.total=o,this.related=l,this.model=c}return Object(o["a"])(e,[{key:"reloadPage",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.with(this.related).paginate(this.currentPage));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isLastPage",value:function(){return this.currentPage===this.lastPage}},{key:"isFirstPage",value:function(){return 1===this.currentPage}},{key:"nextPage",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage+=1,e.abrupt("return",this.model.with(this.related).paginate(this.currentPage));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prevPage",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage-=1,e.abrupt("return",this.model.with(this.related).paginate(this.currentPage));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"gotoPage",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.abrupt("return",this.model.with(this.related).paginate(this.currentPage));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"initPagination",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,n=arguments;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:[],i=n.length>2&&void 0!==n[2]?n[2]:1,e.abrupt("return",t.with(a).paginate(i));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"8dd5":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a("d4ec"),i=a("bee2"),n=a("257e"),o=a("262e"),s=a("2caf"),l=a("ade3"),c=(a("a434"),a("d3b7"),a("159b"),a("fefb")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"multiple-form-container"},[a("h5",[e._v(e._s(e.field.label))]),a("div",[e._l(e.field.models,(function(t,r,i){return a("div",{key:i,staticClass:"model-container"},[e._l(t.getFields(),(function(e){return a(e.getComponent(),{key:e.name,tag:"component",attrs:{options:e.getOptions(),field:e}})})),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return e.field.deleteModel(t)}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}})],1)],2)})),0===e.field.models.length?a("p",{staticStyle:{"text-align":"center","font-style":"italic"}},[e._v(" Sin agregar "+e._s(e.field.label.toLowerCase())+" ")]):e._e()],2),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.field.addModel()}}},[e._v(" Agregar nuevo ")])])},d=[],v={name:"MultipleFormComponent",props:["options","field"],data:function(){return{}},methods:{onChange:function(){this.$emit("change",this.field)}}},p=v,m=(a("1a93"),a("2877")),f=Object(m["a"])(p,u,d,!1,null,"4669340b",null),h=f.exports,b=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(e,i,o){var s,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(r["a"])(this,a),s=t.call(this,e,i,"text",c),Object(l["a"])(Object(n["a"])(s),"limit",0),Object(l["a"])(Object(n["a"])(s),"min",1),Object(l["a"])(Object(n["a"])(s),"model",void 0),Object(l["a"])(Object(n["a"])(s),"models",[]),Object(l["a"])(Object(n["a"])(s),"getComponent",(function(){return h})),s.Model=o,s}return Object(i["a"])(a,[{key:"setLimit",value:function(e){return this.limit=e,this}},{key:"setMin",value:function(e){return this.min=e,this}},{key:"addModel",value:function(){var e=new this.Model;return this.models.push(e),e}},{key:"deleteModel",value:function(e){this.models.splice(this.models.indexOf(e),1)}},{key:"getValue",value:function(){return this.models}},{key:"getUserValue",value:function(){return this.isRenderComponent?this.getRenderComponent():this.mask?this.mask(this.originalValue.length):this.originalValue.length}},{key:"setValue",value:function(e){var t=this;this.models=[],this.originalValue=[],Array.isArray(e)?e.forEach((function(e){t.addItem(e)})):this.addItem(e)}},{key:"addItem",value:function(e){var t=new this.Model;t.initValues(e),this.models.push(t),this.originalValue.push(t)}}]),a}(c["a"])},"91a7":function(e,t,a){},"92f5":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("c7eb"),i=a("1da1"),n=a("d4ec"),o=a("bee2"),s=a("ade3"),l=(a("99af"),a("7f80")),c=function(){function e(){Object(n["a"])(this,e),Object(s["a"])(this,"url","/api/")}return Object(o["a"])(e,[{key:"all",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,n=arguments;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:1,e.prev=1,e.next=4,l["a"].get("".concat(this.url).concat(t,"?page=").concat(a));case 4:return i=e.sent,e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,n,o=arguments;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,i="".concat(this.url).concat(t).concat(a.id?"/".concat(a.id):""),!a.id){e.next=9;break}return e.next=6,l["a"].put(i,a);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,l["a"].post(i,a);case 11:n=e.sent;case 12:return e.abrupt("return",n.data);case 15:return e.prev=15,e.t0=e["catch"](1),e.abrupt("return",e.t0.response.data);case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"filter",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t,a,i){var n,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(this.url).concat(t,"/filter/").concat(i),e.prev=1,e.next=4,l["a"].post(n,a);case 4:return o=e.sent,e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t,a,r){return e.apply(this,arguments)}return t}()},{key:"download",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t,a){var i,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="".concat(this.url).concat(t),e.prev=1,e.next=4,l["a"].post(i,a,{responseType:"blob"});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(t,a){var i,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="".concat(this.url).concat(t,"/").concat(a),e.prev=1,e.next=4,l["a"].delete(i);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t,a){return e.apply(this,arguments)}return t}()}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();Object(s["a"])(c,"instance",void 0)},"9a92":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("bee2"),i=a("d4ec"),n=a("257e"),o=a("262e"),s=a("2caf"),l=a("ade3"),c=(a("99af"),a("326b")),u=a("fefb"),d=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;Object(i["a"])(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object(l["a"])(Object(n["a"])(e),"endpoint","roles"),Object(l["a"])(Object(n["a"])(e),"fields",[new u["a"]("id","Código").disabled().noFilterable(),new u["a"]("name","Nombre")]),Object(l["a"])(Object(n["a"])(e),"clone",(function(){return a})),e}return Object(r["a"])(a)}(c["a"])},a18c:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var r=a("2b0e"),i=a("8c4f"),n=a("8b71"),o=a("d680"),s=function(e){return e.matched.some((function(e){return o["a"].can(e.meta.action||"read",e.meta.resource)}))};r["default"].use(i["a"]);var l=new i["a"]({mode:"history",base:"/",scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/",name:"home",component:function(){return a.e("chunk-19aadc4f").then(a.bind(null,"fe94"))},meta:{pageTitle:"Dashboard",breadcrumb:[{text:"Dashboard",active:!0}],resource:"Auth"}},{path:"/dashboard",name:"sales",component:function(){return a.e("chunk-19aadc4f").then(a.bind(null,"fe94"))},meta:{pageTitle:"Dashboard",breadcrumb:[{text:"Dashboard",active:!0}],resource:"Auth"}},{path:"/users",name:"usersView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-2d0c9799")]).then(a.bind(null,"58ff"))},meta:{pageTitle:"Usuarios",breadcrumb:[{text:"Usuarios",active:!0}],resource:"Usuarios y roles",action:"VIEW_USER"}},{path:"/roles",name:"rolesView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-2d0b7296")]).then(a.bind(null,"1ff1"))},meta:{pageTitle:"Roles",breadcrumb:[{text:"Roles",active:!0}],resource:"Usuarios y roles",action:"VIEW_ROLE"}},{path:"/roles/new",name:"createRoleView",component:function(){return a.e("chunk-6f0e4162").then(a.bind(null,"9e91"))},meta:{pageTitle:"Crear rol",breadcrumb:[{text:"Crear rol",active:!0}],resource:"Usuarios y roles",action:"CREATE_ROLE"}},{path:"/roles/edit/:id",name:"editRoleView",component:function(){return a.e("chunk-6f0e4162").then(a.bind(null,"9e91"))},meta:{pageTitle:"Editar rol",breadcrumb:[{text:"Editar rol",active:!0}],resource:"Usuarios y roles",action:"EDIT_ROLE"}},{path:"/customers",name:"customersView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-602bcca2")]).then(a.bind(null,"21da"))},meta:{pageTitle:"Clientes",breadcrumb:[{text:"Clientes",active:!0}],resource:"Clientes",action:"VIEW_CUSTOMER"}},{path:"/providers",name:"providersView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-060e6137")]).then(a.bind(null,"32f8"))},meta:{pageTitle:"Proveedores",breadcrumb:[{text:"Proveedores",active:!0}],resource:"Proveedores",action:"VIEW_PROVIDER"}},{path:"/payment_methods",name:"paymentMethodsView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-4c45bcdc")]).then(a.bind(null,"f748"))},meta:{pageTitle:"Métodos de pago",breadcrumb:[{text:"Métodos de pago",active:!0}],resource:"Métodos de pago",action:"VIEW_PAYMENT_METHOD"}},{path:"/lead-statuses",name:"leadStatusesView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-94f918e2")]).then(a.bind(null,"131c"))},meta:{pageTitle:"Estados de Leads",breadcrumb:[{text:"Estados de Leads",active:!0}],resource:"Leads",action:"MANAGE_LEAD_STATUSES"}},{path:"/lead-channels",name:"leadChannelsView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-52c1a364")]).then(a.bind(null,"fd7d"))},meta:{pageTitle:"Canales de Leads",breadcrumb:[{text:"Canales de Leads",active:!0}],resource:"Leads",action:"MANAGE_LEAD_CHANNELS"}},{path:"/leads",name:"leadsView",component:function(){return a.e("chunk-ab8c787e").then(a.bind(null,"2931"))},meta:{resource:"Leads",action:"VIEW_LEAD",contentClass:"todo-application"}},{path:"/leads-back",name:"leadsBackupView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-6096d971")]).then(a.bind(null,"4581"))},meta:{pageTitle:"Leads",breadcrumb:[{text:"Leads",active:!0}],resource:"Leads",action:"VIEW_LEAD"}},{path:"/reservations",name:"reservationsView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-742a26ea"),a.e("chunk-19bb2df7"),a.e("chunk-2dcad7ba"),a.e("chunk-fa513508")]).then(a.bind(null,"8c03"))},meta:{pageTitle:"Reservaciones",breadcrumb:[{text:"Reservaciones",active:!0}],resource:"Reservas",action:"VIEW_RESERVATION"}},{path:"/new-reservation",name:"newReservationView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-19bb2df7"),a.e("chunk-3c9a8def")]).then(a.bind(null,"895a"))},meta:{pageTitle:"Nueva reserva",breadcrumb:[{to:"/reservations",text:"Reservas",active:!1},{text:"Crear reserva",active:!0}],resource:"Reservas",action:"CREATE_RESERVATION"}},{path:"/edit-reservation/:id",name:"EditReservationsView",component:function(){return Promise.all([a.e("chunk-124b0493"),a.e("chunk-19bb2df7"),a.e("chunk-3c9a8def")]).then(a.bind(null,"895a"))},meta:{pageTitle:"Editar reserva",breadcrumb:[{to:"/reservations",text:"Reservaciones",active:!1},{text:"Editar reserva",active:!0}],resource:"Reservas",action:"EDIT_RESERVATION"}},{path:"/login",name:"login",component:function(){return a.e("chunk-a3cd5656").then(a.bind(null,"a55b"))},meta:{layout:"full",redirectIfLoggedIn:!0,resource:"Auth"}},{path:"/error-404",name:"error-404",component:function(){return a.e("chunk-45e34c6e").then(a.bind(null,"d80f"))},meta:{layout:"full"}},{path:"/not-authorized",name:"not-authorized",component:function(){return a.e("chunk-a52e4dd4").then(a.bind(null,"3bc2"))},meta:{layout:"full",resource:"Auth"}},{path:"*",redirect:"error-404"}]});l.beforeEach((function(e,t,a){var r=Object(n["c"])();return s(e)?(e.meta.redirectIfLoggedIn&&r&&a(Object(n["a"])()),a()):a(r?{name:"not-authorized"}:{name:"login"})})),l.afterEach((function(){var e=document.getElementById("loading-bg");e&&(e.style.display="none")}));t["a"]=l},a4ef:function(e,t,a){e.exports=a.p+"img/logo.5d5efd4d.png"},a6ed:function(e,t,a){"use strict";a("4cff")},adf4:function(e,t,a){"use strict";a("87b0")},b74f:function(e,t,a){},b8f2:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("ed09"),i=a("4360");function n(){var e=Object(r["computed"])({get:function(){return i["a"].state.verticalMenu.isVerticalMenuCollapsed},set:function(e){i["a"].commit("verticalMenu/UPDATE_VERTICAL_MENU_COLLAPSED",e)}}),t=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.isRTL},set:function(e){i["a"].commit("appConfig/TOGGLE_RTL",e)}}),a=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.skin},set:function(e){i["a"].commit("appConfig/UPDATE_SKIN",e)}}),n=Object(r["computed"])((function(){return"bordered"===a.value?"bordered-layout":"semi-dark"===a.value?"semi-dark-layout":null})),o=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.routerTransition},set:function(e){i["a"].commit("appConfig/UPDATE_ROUTER_TRANSITION",e)}}),s=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.type},set:function(e){i["a"].commit("appConfig/UPDATE_LAYOUT_TYPE",e)}});Object(r["watch"])(s,(function(e){"horizontal"===e&&"semi-dark"===a.value&&(a.value="light")}));var l=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.contentWidth},set:function(e){i["a"].commit("appConfig/UPDATE_CONTENT_WIDTH",e)}}),c=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.menu.hidden},set:function(e){i["a"].commit("appConfig/UPDATE_NAV_MENU_HIDDEN",e)}}),u=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.navbar.backgroundColor},set:function(e){i["a"].commit("appConfig/UPDATE_NAVBAR_CONFIG",{backgroundColor:e})}}),d=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.navbar.type},set:function(e){i["a"].commit("appConfig/UPDATE_NAVBAR_CONFIG",{type:e})}}),v=Object(r["computed"])({get:function(){return i["a"].state.appConfig.layout.footer.type},set:function(e){i["a"].commit("appConfig/UPDATE_FOOTER_CONFIG",{type:e})}});return{isVerticalMenuCollapsed:e,isRTL:t,skin:a,skinClasses:n,routerTransition:o,navbarBackgroundColor:u,navbarType:d,footerType:v,layoutType:s,contentWidth:l,isNavMenuHidden:c}}},bd2f:function(e,t,a){"use strict";a("3358")},c12f:function(e,t,a){"use strict";a("0575")},cc0f:function(e,t,a){},d0af:function(e,t,a){"use strict";a("b74f")},d1fe:function(e,t,a){},d206:function(e,t,a){"use strict";a("d218")},d218:function(e,t,a){},d680:function(e,t,a){"use strict";var r=a("4b58"),i=a("ff93"),n=JSON.parse(localStorage.getItem("userData")),o=n?n.ability:null;t["a"]=new r["a"](o||i["a"])},d908:function(e,t,a){"use strict";a("4f8f")},f9b9:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a("d4ec"),i=a("bee2"),n=a("257e"),o=a("45eb"),s=a("7e84"),l=a("262e"),c=a("2caf"),u=a("ade3"),d=(a("d3b7"),a("159b"),a("7db0"),a("25f0"),a("fefb")),v=a("8bb7"),p=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(e,i,o){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return Object(r["a"])(this,a),s=t.call(this,e,i,"text",c),Object(u["a"])(Object(n["a"])(s),"ModelClass",void 0),Object(u["a"])(Object(n["a"])(s),"displayField",void 0),Object(u["a"])(Object(n["a"])(s),"model",void 0),Object(u["a"])(Object(n["a"])(s),"multiple",!1),Object(u["a"])(Object(n["a"])(s),"loading",!1),Object(u["a"])(Object(n["a"])(s),"options",[]),Object(u["a"])(Object(n["a"])(s),"getComponent",(function(){return 0!==s.options.length||s.loading||setTimeout((function(){s.initOptions()}),100),v["a"]})),s.ModelClass=o,s.displayField=l,s}return Object(i["a"])(a,[{key:"where",value:function(e,t,a){return this.ModelClass=this.ModelClass.where(e,t,a),this}},{key:"initOptions",value:function(){var e=this;this.loading||(this.loading=!0,this.ModelClass.get().then((function(t){e.options=t,e.loading=!1})))}},{key:"values",value:function(){var e=this,t=[];return this.options.forEach((function(a){t.push({value:a.getAttr("id"),text:a.getAttr(e.displayField)})})),t}},{key:"getSelectedModel",value:function(){var e=this;return this.model?this.model:this.options.find((function(t){return e.value.toString()===t.getAttr("id").toString()}))}},{key:"setValue",value:function(e){if(e)if(null!==e.id&&void 0!==e.id)this.model=new this.ModelClass,this.model.initValues(e),this.originalValue=e.id,this.value=e.id;else if(Array.isArray(e)){var t=[];e.forEach((function(e){t.push(e.id)})),this.originalValue=t,this.value=t}else Object(o["a"])(Object(s["a"])(a.prototype),"setValue",this).call(this,e)}},{key:"setMultiple",value:function(){return this.multiple=!0,this}},{key:"getUserValue",value:function(){return this.model?this.isRenderComponent?this.getRenderComponent():this.mask?this.mask(this.model.getAttr(this.displayField),this.model):this.model.getAttr(this.displayField):""}},{key:"getValue",value:function(){return this.getSelectedModel()}}]),a}(d["a"])},f9ed:function(e,t,a){"use strict";a("3518")},fad0:function(e,t,a){},fadd:function(e,t,a){"use strict";a("91a7")},fefb:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a("d4ec"),i=a("bee2"),n=a("ade3"),o=(a("b0c0"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.options.enabled?a("div",{class:e.options.showLabel?"form-group":"form-control",staticStyle:{display:"block"}},[e.options.showLabel?a("label",[e._v(e._s(e.options.label))]):e._e(),"checkbox"===e.options.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:"checkbox"},domProps:{checked:Array.isArray(e.field.value)?e._i(e.field.value,null)>-1:e.field.value},on:{change:[function(t){var a=e.field.value,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);r.checked?o<0&&e.$set(e.field,"value",a.concat([n])):o>-1&&e.$set(e.field,"value",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.field,"value",i)},function(t){return e.onChange(e.field)}]}}):"radio"===e.options.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:"radio"},domProps:{checked:e._q(e.field.value,null)},on:{change:[function(t){return e.$set(e.field,"value",null)},function(t){return e.onChange(e.field)}]}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],class:e.options.showLabel?"form-control":"without-label",attrs:{placeholder:e.options.label,disabled:!e.options.enabled,step:"any",type:e.options.type},domProps:{value:e.field.value},on:{change:function(t){return e.onChange(e.field)},input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}})]):e._e()}),s=[],l={name:"TextInputComponent",props:{options:{type:Object,required:!0},field:{type:Object,required:!0}},data:function(){return{}},methods:{onChange:function(e){this.$emit("change",e)}}},c=l,u=(a("d206"),a("2877")),d=Object(u["a"])(c,o,s,!1,null,"06e71e04",null),v=d.exports,p=function(){function e(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(r["a"])(this,e),Object(n["a"])(this,"name",""),Object(n["a"])(this,"label",""),Object(n["a"])(this,"originalValue",void 0),Object(n["a"])(this,"value",""),Object(n["a"])(this,"type",""),Object(n["a"])(this,"enabled",!0),Object(n["a"])(this,"mask",void 0),Object(n["a"])(this,"visible",!0),Object(n["a"])(this,"showLabel",!0),Object(n["a"])(this,"filterable",!0),Object(n["a"])(this,"component",null),Object(n["a"])(this,"isRenderComponent",!1),Object(n["a"])(this,"getComponent",(function(){return v})),Object(n["a"])(this,"getRenderComponent",(function(){return a.component})),this.name=t,this.label=t,this.type=o,void 0!==s&&(this.value=s,this.originalValue=s),""!==i&&(this.label=i)}return Object(i["a"])(e,[{key:"disabled",value:function(){return this.enabled=!1,this}},{key:"default",value:function(e){return this.value=e,this}},{key:"renderComponent",value:function(e){return this.isRenderComponent=!0,this.component=e,this}},{key:"applyMask",value:function(e){return this.mask=e,this}},{key:"applyPrefix",value:function(e){return this.applyMask((function(t){return"".concat(e).concat(t)}))}},{key:"applySuffix",value:function(e){return this.applyMask((function(t){return"".concat(t).concat(e)}))}},{key:"getOptions",value:function(){return{label:this.label,type:this.type,enabled:this.enabled,showLabel:this.showLabel}}},{key:"getUserValue",value:function(){return this.isRenderComponent?this.getRenderComponent():this.mask?this.mask(this.originalValue):this.originalValue}},{key:"getValue",value:function(){return this.value}},{key:"getOriginalValue",value:function(){return this.originalValue}},{key:"resetValue",value:function(){this.value=this.originalValue}},{key:"setValue",value:function(e){"number"===this.type?(this.value=parseFloat(e),this.originalValue=parseFloat(e)):(this.value=e,this.originalValue=e)}},{key:"hide",value:function(){return this.visible=!1,this.noFilterable(),this}},{key:"noFilterable",value:function(){return this.filterable=!1,this}},{key:"hideLabel",value:function(){return this.showLabel=!1,this}}]),e}()},ff93:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=[{action:"read",subject:"Auth"}]}});
//# sourceMappingURL=app.e710a06e.js.map