{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/components/spinner/spinner.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/bootstrap-vue/esm/components/overlay/overlay.js","webpack:///./src/views/modules/RoleFormView.vue?d2e1","webpack:///./src/dc-it/models/ModulePermission.js","webpack:///./src/dc-it/models/Module.js","webpack:///src/views/modules/RoleFormView.vue","webpack:///./src/views/modules/RoleFormView.vue?8c2b","webpack:///./src/views/modules/RoleFormView.vue"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","props","label","role","small","tag","type","variant","BSpinner","extend","name","functional","render","h","_ref","_class","data","slots","scopedSlots","$slots","$scopedSlots","$label","staticClass","attrs","class","concat","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","POSITION_COVER","top","left","bottom","right","bgColor","blur","fixed","noCenter","noFade","noWrap","opacity","number","overlayTag","rounded","show","spinnerSmall","spinnerType","spinnerVariant","wrapTag","zIndex","BOverlay","mixins","computed","computedRounded","this","computedVariant","slotScope","methods","defaultOverlayFn","$createElement","_this","$overlay","$background","style","backgroundColor","backdropFilter","$content","transform","normalizeSlot","on","click","event","$emit","appear","_vm","_h","_c","_self","showOverlay","_v","directives","rawName","expression","domProps","$event","composing","_l","module","getAttr","permission","staticStyle","searchRolePermission","selected","disabled","changePermissionValue","$router","replace","save","staticRenderFns","ModulePermission","Field","noFilterable","Model","Module","MultipleRelation","hide","components","BFormCheckbox","mounted","promises","Promise","result","permissions","moduleId","permissionId","maxLevel","rolePermissions","module_permission_id","id","role_permissions","GeneralService","showError","text","title","showCancelButton","confirmButtonText","confirmButtonColor","updateRole","localStorage","setup","mods","d","modulePermissionId","level","modules","initRolePermissions","component"],"mappings":"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","file":"js/chunk-6f0e4162.77e2c823.js","sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_SPINNER } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_LABEL } from '../../constants/slots';\nimport { normalizeSlot } from '../../utils/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  label: makeProp(PROP_TYPE_STRING),\n  role: makeProp(PROP_TYPE_STRING, 'status'),\n  small: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'span'),\n  type: makeProp(PROP_TYPE_STRING, 'border'),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_SPINNER); // --- Main component ---\n// @vue/component\n\nexport var BSpinner = /*#__PURE__*/Vue.extend({\n  name: NAME_SPINNER,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots,\n        scopedSlots = _ref.scopedSlots;\n    var $slots = slots();\n    var $scopedSlots = scopedSlots || {};\n    var $label = normalizeSlot(SLOT_NAME_LABEL, {}, $scopedSlots, $slots) || props.label;\n\n    if ($label) {\n      $label = h('span', {\n        staticClass: 'sr-only'\n      }, $label);\n    }\n\n    return h(props.tag, mergeData(data, {\n      attrs: {\n        role: $label ? props.role || 'status' : null,\n        'aria-hidden': $label ? null : 'true'\n      },\n      class: (_class = {}, _defineProperty(_class, \"spinner-\".concat(props.type), props.type), _defineProperty(_class, \"spinner-\".concat(props.type, \"-sm\"), props.small), _defineProperty(_class, \"text-\".concat(props.variant), props.variant), _class)\n    }), [$label || h()]);\n  }\n});","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_OVERLAY } from '../../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_OVERLAY } from '../../constants/slots';\nimport { toFloat } from '../../utils/number';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { BSpinner } from '../spinner/spinner';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar POSITION_COVER = {\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n}; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  // Alternative to variant, allowing a specific\n  // CSS color to be applied to the overlay\n  bgColor: makeProp(PROP_TYPE_STRING),\n  blur: makeProp(PROP_TYPE_STRING, '2px'),\n  fixed: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCenter: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  // If `true, does not render the default slot\n  // and switches to absolute positioning\n  noWrap: makeProp(PROP_TYPE_BOOLEAN, false),\n  opacity: makeProp(PROP_TYPE_NUMBER_STRING, 0.85, function (value) {\n    var number = toFloat(value, 0);\n    return number >= 0 && number <= 1;\n  }),\n  overlayTag: makeProp(PROP_TYPE_STRING, 'div'),\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  show: makeProp(PROP_TYPE_BOOLEAN, false),\n  spinnerSmall: makeProp(PROP_TYPE_BOOLEAN, false),\n  spinnerType: makeProp(PROP_TYPE_STRING, 'border'),\n  spinnerVariant: makeProp(PROP_TYPE_STRING),\n  variant: makeProp(PROP_TYPE_STRING, 'light'),\n  wrapTag: makeProp(PROP_TYPE_STRING, 'div'),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING, 10)\n}, NAME_OVERLAY); // --- Main component ---\n// @vue/component\n\nexport var BOverlay = /*#__PURE__*/Vue.extend({\n  name: NAME_OVERLAY,\n  mixins: [normalizeSlotMixin],\n  props: props,\n  computed: {\n    computedRounded: function computedRounded() {\n      var rounded = this.rounded;\n      return rounded === true || rounded === '' ? 'rounded' : !rounded ? '' : \"rounded-\".concat(rounded);\n    },\n    computedVariant: function computedVariant() {\n      var variant = this.variant;\n      return variant && !this.bgColor ? \"bg-\".concat(variant) : '';\n    },\n    slotScope: function slotScope() {\n      return {\n        spinnerType: this.spinnerType || null,\n        spinnerVariant: this.spinnerVariant || null,\n        spinnerSmall: this.spinnerSmall\n      };\n    }\n  },\n  methods: {\n    defaultOverlayFn: function defaultOverlayFn(_ref) {\n      var spinnerType = _ref.spinnerType,\n          spinnerVariant = _ref.spinnerVariant,\n          spinnerSmall = _ref.spinnerSmall;\n      return this.$createElement(BSpinner, {\n        props: {\n          type: spinnerType,\n          variant: spinnerVariant,\n          small: spinnerSmall\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var show = this.show,\n        fixed = this.fixed,\n        noFade = this.noFade,\n        noWrap = this.noWrap,\n        slotScope = this.slotScope;\n    var $overlay = h();\n\n    if (show) {\n      var $background = h('div', {\n        staticClass: 'position-absolute',\n        class: [this.computedVariant, this.computedRounded],\n        style: _objectSpread(_objectSpread({}, POSITION_COVER), {}, {\n          opacity: this.opacity,\n          backgroundColor: this.bgColor || null,\n          backdropFilter: this.blur ? \"blur(\".concat(this.blur, \")\") : null\n        })\n      });\n      var $content = h('div', {\n        staticClass: 'position-absolute',\n        style: this.noCenter ?\n        /* istanbul ignore next */\n        _objectSpread({}, POSITION_COVER) : {\n          top: '50%',\n          left: '50%',\n          transform: 'translateX(-50%) translateY(-50%)'\n        }\n      }, [this.normalizeSlot(SLOT_NAME_OVERLAY, slotScope) || this.defaultOverlayFn(slotScope)]);\n      $overlay = h(this.overlayTag, {\n        staticClass: 'b-overlay',\n        class: {\n          'position-absolute': !noWrap || noWrap && !fixed,\n          'position-fixed': noWrap && fixed\n        },\n        style: _objectSpread(_objectSpread({}, POSITION_COVER), {}, {\n          zIndex: this.zIndex || 10\n        }),\n        on: {\n          click: function click(event) {\n            return _this.$emit(EVENT_NAME_CLICK, event);\n          }\n        },\n        key: 'overlay'\n      }, [$background, $content]);\n    } // Wrap in a fade transition\n\n\n    $overlay = h(BVTransition, {\n      props: {\n        noFade: noFade,\n        appear: true\n      },\n      on: {\n        'after-enter': function afterEnter() {\n          return _this.$emit(EVENT_NAME_SHOWN);\n        },\n        'after-leave': function afterLeave() {\n          return _this.$emit(EVENT_NAME_HIDDEN);\n        }\n      }\n    }, [$overlay]);\n\n    if (noWrap) {\n      return $overlay;\n    }\n\n    return h(this.wrapTag, {\n      staticClass: 'b-overlay-wrap position-relative',\n      attrs: {\n        'aria-busy': show ? 'true' : null\n      }\n    }, noWrap ? [$overlay] : [this.normalizeSlot(), $overlay]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"invoice-preview-wrapper\"},[_c('b-overlay',{attrs:{\"show\":_vm.showOverlay}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Nombre\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])]),_c('div',{staticClass:\"col-12\"},[_c('h4',[_vm._v(\"Permisos\")])]),_c('div',{staticClass:\"col-12\"},_vm._l((_vm.modules),function(module){return _c('div',{key:module.getAttr('id')},[_c('h5',{staticClass:\"mb-1\"},[_vm._v(\" \"+_vm._s(module.getAttr('name'))+\" \")]),_c('div',{staticClass:\"d-flex flex-wrap\"},_vm._l((module.getAttr('module_permissions', false)),function(permission){return _c('div',{key:permission.getAttr('id'),staticClass:\"mb-1\",staticStyle:{\"width\":\"200px\"}},[_c('b-form-checkbox',{attrs:{\"checked\":_vm.searchRolePermission(module.getAttr('id'), permission.getAttr('id')).selected,\"disabled\":_vm.searchRolePermission(module.getAttr('id'), permission.getAttr('id')).disabled,\"switch\":\"\",\"inline\":\"\"},on:{\"change\":function($event){_vm.changePermissionValue(module.getAttr('id'), permission.getAttr('id'), $event)}}},[_vm._v(\" \"+_vm._s(permission.getAttr('label'))+\" \")])],1)}),0),_c('hr')])}),0),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.$router.replace('/roles')}}},[_vm._v(\" Cancelar \")]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.save}},[_vm._v(\" Guardar \")])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Model from '@/dc-it/models/Model'\r\nimport Field from '@/dc-it/types/Field'\r\n\r\nexport default class ModulePermission extends Model {\r\n    endpoint = 'module_permissions';\r\n\r\n    fields = [\r\n      new Field('id', 'Código').disabled().noFilterable(),\r\n      new Field('name', 'Nombre'),\r\n    ];\r\n\r\n    clone = () => ModulePermission;\r\n}\r\n","import Model from '@/dc-it/models/Model'\r\nimport Field from '@/dc-it/types/Field'\r\nimport MultipleRelation from '@/dc-it/types/MutipleRelation'\r\nimport ModulePermission from '@/dc-it/models/ModulePermission'\r\n\r\nexport default class Module extends Model {\r\n    endpoint = 'modules';\r\n\r\n    related = ['module_permissions']\r\n\r\n    fields = [\r\n      new Field('id', 'Código').disabled().noFilterable(),\r\n      new Field('name', 'Nombre'),\r\n      new MultipleRelation('module_permissions', 'Permisos', ModulePermission).hide().noFilterable(),\r\n\r\n    ];\r\n\r\n    clone = () => Module;\r\n}\r\n","<template>\r\n  <section class=\"invoice-preview-wrapper\">\r\n    <b-overlay :show=\"showOverlay\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"form-group\">\r\n                    <label>Nombre</label>\r\n                    <input\r\n                      v-model=\"name\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                    >\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-12\">\r\n                  <h4>Permisos</h4>\r\n                </div>\r\n\r\n                <div class=\"col-12\">\r\n\r\n                  <div\r\n                    v-for=\"module of modules\"\r\n                    :key=\"module.getAttr('id')\"\r\n                  >\r\n                    <h5 class=\"mb-1\">\r\n                      {{ module.getAttr('name') }}\r\n                    </h5>\r\n                    <div class=\"d-flex flex-wrap\">\r\n                      <div\r\n                        v-for=\"permission of module.getAttr('module_permissions', false)\"\r\n                        :key=\"permission.getAttr('id')\"\r\n                        class=\"mb-1\"\r\n                        style=\"width: 200px;\"\r\n                      >\r\n                        <b-form-checkbox\r\n                          :checked=\"searchRolePermission(module.getAttr('id'), permission.getAttr('id')).selected\"\r\n                          :disabled=\"searchRolePermission(module.getAttr('id'), permission.getAttr('id')).disabled\"\r\n                          switch\r\n                          inline\r\n                          @change=\"changePermissionValue(module.getAttr('id'), permission.getAttr('id'), $event)\"\r\n                        >\r\n                          {{ permission.getAttr('label') }}\r\n                        </b-form-checkbox>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <hr>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-12\">\r\n                  <div class=\"btn-group\">\r\n                    <button\r\n                      class=\"btn btn-danger\"\r\n                      @click=\"$router.replace('/roles')\"\r\n                    >\r\n                      Cancelar\r\n                    </button>\r\n                    <button\r\n                      class=\"btn btn-primary\"\r\n                      @click=\"save\"\r\n                    >\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </b-overlay>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { BOverlay, BFormCheckbox } from 'bootstrap-vue'\r\nimport { ref } from '@vue/composition-api/dist/vue-composition-api'\r\nimport Module from '@/dc-it/models/Module'\r\nimport GeneralService from '@/dc-it/services/GeneralService'\r\nimport Role from '@/dc-it/models/Role'\r\n\r\nexport default {\r\n  name: 'RoleFormView',\r\n  components: { BOverlay, BFormCheckbox },\r\n  mounted() {\r\n    const promises = [Module.where('id', '>', 0).get()]\r\n\r\n    if (this.$route.params.id) {\r\n      promises.push(Role.with('role_permissions').where('id', '=', this.$route.params.id).get())\r\n    }\r\n\r\n    Promise.all(promises).then(result => {\r\n      [this.modules] = result\r\n      this.initRolePermissions(this.modules)\r\n      if (this.$route.params.id) {\r\n        const rolesResult = result[1]\r\n        if (rolesResult.length === 0) {\r\n          this.showError('No se ha encontrado el rol')\r\n          this.$router.replace('/roles')\r\n          return\r\n        }\r\n        const rol = rolesResult[0]\r\n\r\n        this.id = rol.getAttr('id')\r\n        this.name = rol.getAttr('name')\r\n        const permissions = rol.getAttr('role_permissions')\r\n        permissions.forEach(permission => {\r\n          this.rolePermissions.forEach(module => {\r\n            module.permissions.forEach(p => {\r\n              if (p.modulePermissionId.toString() === permission.module_permission_id.toString()) {\r\n                this.changePermissionValue(module.moduleId, p.modulePermissionId, true)\r\n              }\r\n            })\r\n          })\r\n        })\r\n      }\r\n\r\n      this.showOverlay = false\r\n    })\r\n  },\r\n  methods: {\r\n    searchRolePermission(moduleId, permissionId) {\r\n      const module = this.rolePermissions.find(rolePermission => rolePermission.moduleId.toString() === moduleId.toString())\r\n      return module.permissions.find(permission => permission.modulePermissionId.toString() === permissionId.toString())\r\n    },\r\n    changePermissionValue(moduleId, permissionId, event) {\r\n      const module = this.rolePermissions.find(rolePermission => rolePermission.moduleId.toString() === moduleId.toString())\r\n      const permission = module.permissions.find(p => p.modulePermissionId.toString() === permissionId.toString())\r\n      permission.selected = event\r\n      let maxLevel = 1\r\n      module.permissions.forEach(p => {\r\n        if (p.level > maxLevel && p.selected) {\r\n          maxLevel = p.level\r\n        }\r\n      })\r\n      for (let i = 0; i < module.permissions.length; i += 1) {\r\n        if (module.permissions[i].modulePermissionId.toString() !== permission.modulePermissionId.toString()) {\r\n          if (module.permissions[i].level < maxLevel) {\r\n            module.permissions[i].selected = true\r\n            module.permissions[i].disabled = true\r\n          } else {\r\n            module.permissions[i].disabled = false\r\n          }\r\n        }\r\n      }\r\n    },\r\n    save() {\r\n      if (this.name === '') {\r\n        this.showError('Debe de ingresar el nombre del rol')\r\n        return\r\n      }\r\n\r\n      const rolePermissions = []\r\n      this.rolePermissions.forEach(module => {\r\n        module.permissions.forEach(permission => {\r\n          if (permission.selected) {\r\n            rolePermissions.push({\r\n              module_permission_id: permission.modulePermissionId,\r\n            })\r\n          }\r\n        })\r\n      })\r\n\r\n      if (rolePermissions.length === 0) {\r\n        this.showError('Debe de seleccionar por lo menos un permiso')\r\n        return\r\n      }\r\n\r\n      this.showOverlay = true\r\n      const data = {\r\n        id: this.id,\r\n        name: this.name,\r\n        role_permissions: rolePermissions,\r\n      }\r\n\r\n      GeneralService.getInstance().save('roles', data).then(() => {\r\n        this.updateRole()\r\n      })\r\n    },\r\n    showError(text) {\r\n      this.$swal({\r\n        title: 'Error',\r\n        text,\r\n        showCancelButton: false,\r\n        confirmButtonText: 'Ok',\r\n        confirmButtonColor: '#41b882',\r\n      })\r\n    },\r\n    updateRole() {\r\n      this.$store.dispatch('app/updateUserInfo').then(user => {\r\n        localStorage.setItem('userData', JSON.stringify(user))\r\n        this.$ability.update(user.ability)\r\n\r\n        this.$router.replace('/roles')\r\n      })\r\n    },\r\n  },\r\n  setup() {\r\n    const modules = ref([])\r\n    const showOverlay = ref(true)\r\n    const rolePermissions = ref([])\r\n    const name = ref('')\r\n    const id = ref(null)\r\n\r\n    const initRolePermissions = mods => {\r\n      mods.forEach(module => {\r\n        const d = {\r\n          moduleId: module.getAttr('id'),\r\n          permissions: [],\r\n        }\r\n\r\n        module.getAttr('module_permissions', false).forEach(permission => {\r\n          d.permissions.push({\r\n            modulePermissionId: permission.getAttr('id'),\r\n            level: parseInt(permission.getAttr('level'), 10),\r\n            selected: false,\r\n            disabled: false,\r\n          })\r\n        })\r\n\r\n        rolePermissions.value.push(d)\r\n      })\r\n    }\r\n\r\n    return {\r\n      modules,\r\n      showOverlay,\r\n      rolePermissions,\r\n      name,\r\n      initRolePermissions,\r\n      id,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleFormView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleFormView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleFormView.vue?vue&type=template&id=621f84f0&scoped=true&\"\nimport script from \"./RoleFormView.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleFormView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"621f84f0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}